{"version":3,"sources":["../../client/app/components/student-manage/student-manage.component.ts"],"names":[],"mappings":"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","file":"student-manage.component.js","sourcesContent":["import { Component, OnInit, NgZone, Input } from '@angular/core';\r\nimport { Student } from \"../../models/student\";\r\nimport { Course } from \"../../models/course\";\r\nimport { ConsentForm } from \"../../models/consentForm\";\r\nimport { SuitabilityForm } from \"../../models/suitabilityForm\";\r\nimport { LearningStyleForm } from \"../../models/learningStyleForm\";\r\nimport { AssessmentResults } from \"../../models/assessmentResults\";\r\nimport { Router } from '@angular/router';\r\nimport { StudentService } from \"../../services/student.service\";\r\nimport { ClientService } from \"../../services/client.service\";\r\nimport { CourseService } from \"../../services/course.service\";\r\nimport { AuthService } from \"../../services/authentication.service\";\r\nimport { FilesService } from \"../../services/files.service\";\r\ndeclare var swal: any;\r\ndeclare var FileSaver: any;\r\n\r\n@Component({\r\n  selector: 'student-manage',\r\n  templateUrl: './app/components/student-manage/student-manage.component.html',\r\n  styleUrls: ['./app/components/student-manage/student-manage.component.css']\r\n})\r\n\r\nexport class StudentManageComponent implements OnInit {\r\n  students: Student[];\r\n  error: any;\r\n  studentInfoView: boolean = false;\r\n  studentView: Student;\r\n  studentCoursesView: Student;\r\n  studentCourses: any[];\r\n  waitList: any[];\r\n  consentForms: ConsentForm[];\r\n  consentView: ConsentForm;\r\n  selectedConsentForm: string;\r\n  suitabilityView: SuitabilityForm;\r\n  learningStyleView: LearningStyleForm;\r\n  @Input() assessmentResults: AssessmentResults;\r\n  showGeneral: boolean = true;\r\n  studentEdit: Student;\r\n  showGeneralInfoEdit: boolean = false;\r\n  phone1: boolean = false;\r\n  phone2: boolean = false;\r\n  long1: boolean = false;\r\n  long2: boolean = false;\r\n\r\n  showSuitability: boolean;\r\n  showConsent: boolean;\r\n  showLearningStyle: boolean;\r\n  showFiles: boolean;\r\n  showAssessmentResults: boolean;\r\n  editAssessment: boolean;\r\n\r\n  //bar chart (learning style)\r\n  barChartOptions: any = {\r\n    scaleShowVerticalLines: false,\r\n    responsive: true\r\n  };\r\n  barChartLabels: string[] = ['Hearing', 'Seeing', 'Doing'];\r\n  barChartType: string = 'bar';\r\n  barChartLegend: boolean = false;\r\n  barChartData: any;\r\n  barChartColors: any[] = [{ backgroundColor: [\"#FF4207\", \"#F7CE3C\", \"#62A744\"] }];\r\n\r\n  files: any[];\r\n  studentsFiles: any[];\r\n\r\n  constructor(private router: Router,\r\n    private ngZone: NgZone,\r\n    private studentService: StudentService,\r\n    private clientService: ClientService,\r\n    private courseService: CourseService,\r\n    private authService: AuthService,\r\n    private filesService: FilesService) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    swal({\r\n      title: 'Loading...',\r\n      allowOutsideClick: false\r\n    });\r\n    swal.showLoading();\r\n    this.getStudents();\r\n  }\r\n\r\n  getStudents() {\r\n    this.studentService\r\n      .getStudents()\r\n      .then(students => {\r\n        if ((students as any).result === 'error') {\r\n          this.students = null;\r\n          this.displayErrorAlert(students);\r\n        } else {\r\n          this.students = students;\r\n          for (let student of this.students) {\r\n            student.fullName = student.firstName + \" \" + student.lastName;\r\n          }\r\n          this.getFiles();\r\n        }\r\n      })\r\n      .catch(error => this.error = error);\r\n  }\r\n\r\n  getFiles() {\r\n    this.filesService\r\n      .getFiles()\r\n      .then(files => {\r\n        this.files = files;\r\n        for (let file of this.files) {\r\n          file.userID = +file.userID;\r\n        }\r\n        swal.close();\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  download(file) {\r\n    var filename = file.milliseconds + \"_\" + file.userID + \"_\" + file.filename;\r\n    this.filesService\r\n      .download(filename)\r\n      .then(response => {\r\n        var blob = new Blob([response], { type: \"application/pdf\" });\r\n        //change download.pdf to the name of whatever you want your file to be\r\n        saveAs(blob, file.filename);\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  deleteFileAlert(file) {\r\n    var filename = file.milliseconds + \"_\" + file.userID + \"_\" + file.filename;\r\n    swal({\r\n      title: 'Delete file (' + file.filename + ')?',\r\n      text: \"You won't be able to revert this!\",\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Yes, delete it!'\r\n    }).then(isConfirm => {\r\n      if (isConfirm.dismiss === \"cancel\" || isConfirm.dismiss === \"overlay\") {\r\n        console.log(isConfirm.dismiss);\r\n      } else if (isConfirm) {\r\n        this.deleteFile(filename);\r\n      }\r\n    }).catch(error => error);\r\n  }\r\n\r\n  deleteFile(filename) {\r\n    event.stopPropagation();\r\n    this.filesService\r\n      .delete(filename)\r\n      .then(res => {\r\n        this.getFiles();\r\n        swal(\r\n          'Deleted!',\r\n          'File has been deleted.',\r\n          'success'\r\n        );\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  addFile() {\r\n    this.router.navigate(['/file-upload']);\r\n  }\r\n\r\n  archiveAlert(student: Student, event: any) {\r\n    swal({\r\n      title: 'Archive student (' + student.firstName + ' ' + student.lastName + ')',\r\n      text: \"Are you sure want to do this?\",\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Yes, Archive!'\r\n    }).then(isConfirm => {\r\n      if (isConfirm.dismiss === \"cancel\" || isConfirm.dismiss === \"overlay\") {\r\n        console.log(isConfirm.dismiss);\r\n      } else if (isConfirm) {\r\n        this.archiveStudent(student, event);\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  archiveStudent(student, event): void {\r\n    this.studentService\r\n      .archiveStudent(student)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'success') {\r\n          swal(\r\n            (result as any).title,\r\n            (result as any).msg,\r\n            (result as any).result\r\n          );\r\n          this.getStudents();\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  goToStudentArchive() {\r\n    this.router.navigate(['/student-archive']);\r\n  }\r\n\r\n  populatePRF(student) {\r\n    this.studentService\r\n      .populatePRF(student.userID)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'success') {\r\n          swal(\r\n            'Sorry...',\r\n            'This feature is not yet available',\r\n            'info'\r\n          );\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  viewInfo(student: Student) {\r\n    swal({\r\n      title: 'Loading...'\r\n    });\r\n    swal.showLoading();\r\n    this.resetView();\r\n    this.showGeneral = true;\r\n    this.studentInfoView = true;\r\n    this.studentView = student;\r\n    this.studentsFiles = this.files.filter(x => x.userID === this.studentView.userID);\r\n    this.studentService\r\n      .getAllFormsByID(student)\r\n      .then(forms => {\r\n        if ((forms as any).result === 'error') {\r\n          this.consentView = null;\r\n          this.learningStyleView = null;\r\n          this.suitabilityView = null;\r\n          this.displayErrorAlert(forms);\r\n        } else {\r\n          this.consentForms = forms.consentForm;\r\n          this.learningStyleView = forms.learningStyleForm[0];\r\n          this.suitabilityView = forms.suitabilityForm[0];\r\n          var isEmpty = (forms.assessmentResults || []).length === 0;\r\n          if (isEmpty) {\r\n            this.editAssessment = false;\r\n            this.assessmentResults = new AssessmentResults();\r\n          } else {\r\n            this.editAssessment = true;\r\n            this.assessmentResults = forms.assessmentResults[0];\r\n          }\r\n          this.barChartData = [{ data: [this.learningStyleView.hearing, this.learningStyleView.seeing, this.learningStyleView.doing] }];\r\n        }\r\n        swal.close();\r\n      })\r\n      .catch(error => this.error = error);\r\n  }\r\n\r\n  viewCourses(student: Student) {\r\n    var userID = student.userID;\r\n    this.resetView();\r\n    this.studentCoursesView = student;\r\n    this.getTimetableById(userID);\r\n    this.getWaitListById(userID);\r\n  }\r\n\r\n  getTimetableById(userID) {\r\n    this.studentService\r\n      .getEventsById(userID)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n          this.studentCourses = null;\r\n        } else if ((result as any).result === 'success') {\r\n          this.studentCourses = null;\r\n          // swal(\r\n          //     result.title,\r\n          //     result.msg,\r\n          //     'info'\r\n          // );\r\n        } else {\r\n          this.studentCourses = result;\r\n        }\r\n      }).catch(error => {\r\n        console.log(\"Error getting timetable by id\");\r\n      });\r\n  }\r\n\r\n  getWaitListById(userID) {\r\n    this.waitList = null;\r\n\r\n    this.courseService\r\n      .getWaitListById(userID)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n          this.waitList = null;\r\n        } else {\r\n          this.waitList = result;\r\n        }\r\n      })\r\n      .catch(error => console.log(\"Error - Get wait list by id: \" + error));\r\n  }\r\n\r\n  overallStatus() {\r\n    this.resetView();\r\n  }\r\n\r\n  sectionBtnClicked(event, section) {\r\n    this.resetView();\r\n    this.studentInfoView = true;\r\n    if (section === \"general\") {\r\n      this.showGeneral = true;\r\n    } else if (section === \"suitability\") {\r\n      this.showSuitability = true;\r\n    } else if (section === \"consent\") {\r\n      this.showConsent = true;\r\n    } else if (section === \"learningStyle\") {\r\n      this.showLearningStyle = true;\r\n    } else if (section === \"files\") {\r\n      this.showFiles = true;\r\n    }\r\n  }\r\n\r\n  editGeneralInfo(student) {\r\n    this.studentEdit = student;\r\n    var splitPhone = this.studentEdit.phone.split(' ');\r\n    if (this.studentEdit.phone.indexOf('+1') !== -1) {\r\n      this.long1 = true;\r\n      this.studentEdit.phone = splitPhone[1] + \" \" + splitPhone[2];\r\n      if (splitPhone[3] === 'Home') {\r\n        this.phone1 = false;\r\n      } else {\r\n        this.phone1 = true;\r\n      }\r\n    } else {\r\n      this.long1 = false;\r\n      this.studentEdit.phone = splitPhone[0] + \" \" + splitPhone[1];\r\n      if (splitPhone[2] === 'Home') {\r\n        this.phone1 = false;\r\n      } else {\r\n        this.phone1 = true;\r\n      }\r\n    }\r\n    var splitAlternate = this.studentEdit.alternateNumber.split(' ');\r\n    if (this.studentEdit.alternateNumber.indexOf('+1') !== -1) {\r\n      this.long2 = true;\r\n      this.studentEdit.alternateNumber = splitAlternate[1] + \" \" + splitAlternate[2];\r\n      if (splitAlternate[3] === 'Home') {\r\n        this.phone2 = false;\r\n      } else {\r\n        this.phone2 = true;\r\n      }\r\n    } else {\r\n      this.long2 = false;\r\n      this.studentEdit.alternateNumber = splitAlternate[0] + \" \" + splitAlternate[1];\r\n      if (splitAlternate[2] === 'Home') {\r\n        this.phone2 = false;\r\n      } else {\r\n        this.phone2 = true;\r\n      }\r\n    }\r\n    this.showGeneral = false;\r\n    this.showGeneralInfoEdit = true;\r\n  }\r\n\r\n  updateGeneralInfo() {\r\n    swal({\r\n      title: 'Updating...'\r\n    });\r\n    swal.showLoading();\r\n    var phoneSplit = this.studentEdit.phone.split(' ');\r\n    this.studentEdit.phone = phoneSplit[0] + \" \" + phoneSplit[1];\r\n    if (this.phone1 === true) {\r\n      this.studentEdit.phone = this.studentEdit.phone + \" Cell\";\r\n    } else if (this.phone1 === false) {\r\n      this.studentEdit.phone = this.studentEdit.phone + \" Home\";\r\n    }\r\n    if (this.long1 === true) {\r\n      this.studentEdit.phone = \"+1 \" + this.studentEdit.phone;\r\n    }\r\n    var alternateSplit = this.studentEdit.alternateNumber.split(' ');\r\n    this.studentEdit.alternateNumber = alternateSplit[0] + \" \" + alternateSplit[1];\r\n    if (this.phone2 === true) {\r\n      this.studentEdit.alternateNumber = this.studentEdit.alternateNumber + \" Cell\";\r\n    } else if (this.phone2 === false) {\r\n      this.studentEdit.alternateNumber = this.studentEdit.alternateNumber + \" Home\";\r\n    }\r\n    if (this.long2 === true) {\r\n      this.studentEdit.alternateNumber = \"+1 \" + this.studentEdit.alternateNumber;\r\n    }\r\n    this.studentService\r\n      .updateGeneralInfo(this.studentEdit)\r\n      .then(user => {\r\n        if ((user as any).result === \"error\") {\r\n          this.displayErrorAlert((user as any));\r\n        } else if ((user as any).msg === \"Username is already in use.\") {\r\n          swal(\r\n            'Username taken',\r\n            'Please enter a different username.',\r\n            'warning'\r\n          );\r\n        } else if ((user as any).msg === \"Email is already in use.\") {\r\n          swal(\r\n            'Email in use',\r\n            'Please enter a different email.',\r\n            'warning'\r\n          );\r\n        } else if ((user as any).msg === \"Incorrect email format.\") {\r\n          swal(\r\n            'Incorrect email format',\r\n            'Please enter a proper email.',\r\n            'warning'\r\n          );\r\n        } else if ((user as any).result === \"success\") {\r\n          swal(\r\n            (user as any).title,\r\n            (user as any).msg,\r\n            'success'\r\n          );\r\n          this.getStudents();\r\n          this.showGeneralInfoEdit = false;\r\n          this.showGeneral = true;\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'warning'\r\n          );\r\n        }\r\n      })\r\n      .catch();\r\n  }\r\n\r\n  allowClientToEdit(student, permission) {\r\n    this.studentService\r\n      .grantConsentEditPermission(student, permission)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'granted') {\r\n          this.studentView.editConsentRequest = false;\r\n          swal(\r\n            'Student Access Granted',\r\n            'Student will be sent an email informing that they can now edit conesnt.',\r\n            'success'\r\n          );\r\n        } else if ((result as any).result === 'denied') {\r\n          this.studentView.editConsentRequest = false;\r\n          swal(\r\n            'Student Access Denied',\r\n            'Student will be sent an email informing that they can NOT edit conesnt.',\r\n            'danger'\r\n          );\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n\r\n      }).catch();\r\n  }\r\n\r\n  onSelectChange(event) {\r\n    var consentForm = this.getConsentFormByConsentID(this.selectedConsentForm);\r\n    this.consentView = consentForm[0];\r\n  }\r\n\r\n  getConsentFormByConsentID(id) {\r\n    id = +id;\r\n    var consentForm = this.consentForms.filter(x => x.consentID === id);\r\n    return consentForm;\r\n  }\r\n\r\n  resetView() {\r\n    this.studentCoursesView = null;\r\n    this.showAssessmentResults = false;\r\n    this.showGeneralInfoEdit = false;\r\n    this.studentInfoView = false;\r\n    this.showGeneral = false;\r\n    this.showSuitability = false;\r\n    this.showConsent = false;\r\n    this.showLearningStyle = false;\r\n    this.showFiles = false;\r\n  }\r\n\r\n  viewAssessmentResults(student) {\r\n    this.viewInfo(student);\r\n    this.resetView();\r\n    this.studentInfoView = true;\r\n    this.studentView = student;\r\n    this.showAssessmentResults = true;\r\n  }\r\n\r\n  addAssessmentResults(userID) {\r\n    this.assessmentResults.userID = userID;\r\n    this.clientService\r\n      .addAssessmentResults(this.assessmentResults)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'success') {\r\n          swal(\r\n            (result as any).title,\r\n            (result as any).msg,\r\n            (result as any).result\r\n          );\r\n          this.resetView();\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n      })\r\n      .catch(error => this.error = error);\r\n  }\r\n\r\n  editAssessmentResults(userID) {\r\n    this.clientService\r\n      .editAssessmentResults(this.assessmentResults)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'success') {\r\n          swal(\r\n            (result as any).title,\r\n            (result as any).msg,\r\n            (result as any).result\r\n          );\r\n          this.resetView();\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n      })\r\n      .catch(error => this.error = error);\r\n  }\r\n\r\n  displayErrorAlert(error) {\r\n    swal(\r\n      error.title,\r\n      error.msg,\r\n      'error'\r\n    );\r\n  }\r\n\r\n  goBack() {\r\n    window.history.back();\r\n  }\r\n}\r\n"]}