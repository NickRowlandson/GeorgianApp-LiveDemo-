{"version":3,"sources":["../../client/app/components/student-manage/student-manage.component.ts"],"names":[],"mappings":"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","file":"student-manage.component.js","sourcesContent":["import { Component, OnInit, NgZone } from '@angular/core';\r\nimport { Student } from \"../../models/student\";\r\nimport { Course } from \"../../models/course\";\r\nimport { ConsentForm } from \"../../models/consentForm\";\r\nimport { SuitabilityForm } from \"../../models/suitabilityForm\";\r\nimport { LearningStyleForm } from \"../../models/learningStyleForm\";\r\nimport { Router } from '@angular/router';\r\nimport { StudentService } from \"../../services/student.service\";\r\nimport { AuthService } from \"../../services/authentication.service\";\r\nimport { FilesService } from \"../../services/files.service\";\r\ndeclare var swal: any;\r\ndeclare var FileSaver: any;\r\n\r\n@Component({\r\n    selector: 'student-manage',\r\n    templateUrl: './app/components/student-manage/student-manage.component.html',\r\n    styleUrls: ['./app/components/student-manage/student-manage.component.css']\r\n})\r\n\r\nexport class StudentManageComponent implements OnInit {\r\n    students: Student [];\r\n    error: any;\r\n    studentInfoView: boolean = false;\r\n    studentView: Student;\r\n    studentCoursesView : Student;\r\n    studentCourses : any[];\r\n    consentView: ConsentForm;\r\n    suitabilityView: SuitabilityForm;\r\n    learningStyleView: LearningStyleForm;\r\n\r\n    showGeneral: boolean = true;\r\n    showSuitability: boolean;\r\n    showConsent: boolean;\r\n    showLearningStyle: boolean;\r\n    showFiles: boolean;\r\n\r\n    //bar chart (learning style)\r\n    barChartOptions:any = {\r\n      scaleShowVerticalLines: false,\r\n      responsive: true\r\n    };\r\n    barChartLabels:string[] = ['Hearing', 'Seeing', 'Doing'];\r\n    barChartType:string = 'bar';\r\n    barChartLegend:boolean = false;\r\n    barChartData:any;\r\n    barChartColors: any[] = [{ backgroundColor: [\"#FF4207\", \"#F8E903\", \"#2AD308\"] }];\r\n\r\n    files: any[];\r\n    studentsFiles: any[];\r\n\r\n    constructor(private router: Router, private ngZone: NgZone, private studentService: StudentService, private authService: AuthService, private filesService: FilesService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getStudents();\r\n        this.getFiles();\r\n    }\r\n\r\n    getStudents() {\r\n      this.studentService\r\n        .getStudents()\r\n        .then(students => {\r\n          if ((students as any).status === \"403\") {\r\n            this.students = null;\r\n          } else {\r\n            this.students = students;\r\n            for (let student of this.students) {\r\n              student.fullName = student.firstName + \" \" + student.lastName;\r\n            }\r\n          }\r\n        })\r\n        .catch(error => this.error = error);\r\n    }\r\n\r\n    getFiles() {\r\n      this.filesService\r\n          .getFiles()\r\n          .then(files => {\r\n            this.files = files;\r\n            for (let file of this.files) {\r\n              file.userID = +file.userID;\r\n            }\r\n            swal.close();\r\n            console.log(this.files);\r\n          })\r\n          .catch(error => error);\r\n    }\r\n\r\n    download(file) {\r\n      console.log(file);\r\n      var filename = file.milliseconds + \"_\" + file.userID + \"_\" + file.filename;\r\n      this.filesService\r\n          .download(filename)\r\n          .then(response => {\r\n            var blob = new Blob([response], {type: \"application/pdf\"});\r\n            //change download.pdf to the name of whatever you want your file to be\r\n            console.log(blob);\r\n            saveAs(blob, file.filename);\r\n          })\r\n          .catch(error => error);\r\n    }\r\n\r\n    deleteFileAlert(file) {\r\n        var filename = file.milliseconds + \"_\" + file.userID + \"_\" + file.filename;\r\n        swal({\r\n            title: 'Delete file (' + file.filename + ')?',\r\n            text: \"You won't be able to revert this!\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n        }).then(isConfirm => {\r\n          if (isConfirm.dismiss === \"cancel\" || isConfirm.dismiss === \"overlay\") {\r\n            console.log(isConfirm.dismiss);\r\n          } else if (isConfirm) {\r\n            this.deleteFile(filename);\r\n          }\r\n        }).catch(error => error);\r\n    }\r\n\r\n    deleteFile(filename) {\r\n        event.stopPropagation();\r\n        this.filesService\r\n            .delete(filename)\r\n            .then(res => {\r\n                this.getFiles();\r\n                swal(\r\n                    'Deleted!',\r\n                    'File has been deleted.',\r\n                    'success'\r\n                );\r\n            })\r\n            .catch(error => error);\r\n    }\r\n\r\n    addFile() {\r\n        this.router.navigate(['/file-upload']);\r\n    }\r\n\r\n    addClient() {\r\n      this.router.navigate(['/suitability']);\r\n    }\r\n\r\n    gotoEdit(student: Student, event: any) {\r\n        this.router.navigate(['/student-edit', student.studentID]);\r\n    }\r\n\r\n    addStudent() {\r\n        this.router.navigate(['/student-edit', 'new']);\r\n    }\r\n\r\n    archiveAlert(student: Student, event: any) {\r\n      swal({\r\n          title: 'Archive student (' + student.firstName + ' ' + student.lastName + ')',\r\n          text: \"Are you sure want to do this?\",\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, Archive it!'\r\n      }).then(isConfirm => {\r\n        if (isConfirm.dismiss === \"cancel\" || isConfirm.dismiss === \"overlay\") {\r\n          console.log(isConfirm.dismiss);\r\n        } else if (isConfirm) {\r\n          this.archiveStudent(student, event);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    }\r\n\r\n    archiveStudent(student, event): void {\r\n      swal(\r\n          'Sorry...',\r\n          'This functionality is not yet available',\r\n          'info'\r\n      );\r\n    }\r\n\r\n    populatePRF(student) {\r\n        this.studentService\r\n            .populatePRF(student.userID)\r\n            .then(response => {\r\n              swal(\r\n                  'Sorry...',\r\n                  'This feature is not yet available',\r\n                  'info'\r\n              );\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    viewInfo(student: Student) {\r\n      this.resetView();\r\n      this.showGeneral = true;\r\n      this.studentInfoView = true;\r\n      this.studentView = student;\r\n      this.studentsFiles = this.files.filter(x => x.userID === this.studentView.userID);\r\n      this.studentService\r\n        .getAllFormsByID(student)\r\n        .then(forms => {\r\n          if (forms.status === \"403\") {\r\n            this.consentView = null;\r\n            this.learningStyleView = null;\r\n            this.suitabilityView = null;\r\n          } else {\r\n            this.consentView = forms.consentForm[0];\r\n            this.learningStyleView = forms.learningStyleForm[0];\r\n            this.suitabilityView = forms.suitabilityForm[0];\r\n            this.barChartData = [{ data: [this.learningStyleView.hearing, this.learningStyleView.seeing, this.learningStyleView.doing]}];\r\n          }\r\n        })\r\n        .catch(error => this.error = error);\r\n    }\r\n\r\n    viewCourses(student: Student) {\r\n      this.resetView();\r\n      this.studentCoursesView = student;\r\n      this.getTimetableById(student.userID);\r\n    }\r\n\r\n    getTimetableById(userID) {\r\n      this.studentService.getEventsById(userID).then(result => {\r\n        this.studentCourses = result;\r\n      }).catch(error => {\r\n        console.log(\"Error getting timetable by id\");\r\n      });\r\n    }\r\n\r\n    overallStatus() {\r\n      this.studentInfoView = false;\r\n      this.studentCoursesView = null;\r\n    }\r\n\r\n    sectionBtnClicked(event, section) {\r\n        this.resetView();\r\n        this.studentInfoView = true;\r\n        if (section === \"general\") {\r\n            this.showGeneral = true;\r\n        } else if (section === \"suitability\") {\r\n            this.showSuitability = true;\r\n        } else if (section === \"consent\") {\r\n            this.showConsent = true;\r\n        } else if (section === \"learningStyle\") {\r\n            this.showLearningStyle = true;\r\n        } else if (section === \"files\") {\r\n            this.showFiles = true;\r\n        }\r\n    }\r\n\r\n    resetView() {\r\n        this.studentCoursesView = null;\r\n        this.studentInfoView = false;\r\n        this.showGeneral = false;\r\n        this.showSuitability = false;\r\n        this.showConsent = false;\r\n        this.showLearningStyle = false;\r\n        this.showFiles = false;\r\n    }\r\n\r\n    goBack() {\r\n        window.history.back();\r\n    }\r\n}\r\n"]}