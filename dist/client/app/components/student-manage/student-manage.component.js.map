{"version":3,"sources":["../../client/app/components/student-manage/student-manage.component.ts"],"names":[],"mappings":"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","file":"student-manage.component.js","sourcesContent":["import { Component, OnInit, NgZone } from '@angular/core';\r\nimport { Student } from \"../../models/student\";\r\nimport { ConsentForm } from \"../../models/consentForm\";\r\nimport { SuitabilityForm } from \"../../models/suitabilityForm\";\r\nimport { LearningStyleForm } from \"../../models/learningStyleForm\";\r\nimport { Router } from '@angular/router';\r\nimport { StudentService } from \"../../services/student.service\";\r\nimport { AuthService } from \"../../services/authentication.service\";\r\n\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    selector: 'student-manage',\r\n    templateUrl: './app/components/student-manage/student-manage.component.html',\r\n    styleUrls: ['./app/components/student-manage/student-manage.component.css']\r\n})\r\n\r\nexport class StudentManageComponent implements OnInit {\r\n    students: Student [];\r\n    error: any;\r\n    studentInfoView: boolean = false;\r\n    studentView: Student;\r\n    consentView: ConsentForm;\r\n    suitabilityView: SuitabilityForm;\r\n    learningStyleView: LearningStyleForm;\r\n    showGeneral: boolean = true;\r\n    showSuitability: boolean;\r\n    showConsent: boolean;\r\n    showLearningStyle: boolean;\r\n\r\n    //bar chart (learning style)\r\n    barChartOptions:any = {\r\n      scaleShowVerticalLines: false,\r\n      responsive: true\r\n    };\r\n    barChartLabels:string[] = ['Hearing', 'Seeing', 'Doing'];\r\n    barChartType:string = 'bar';\r\n    barChartLegend:boolean = false;\r\n    barChartData:any;\r\n    barChartColors: any[] = [{ backgroundColor: [\"#FF4207\", \"#F8E903\", \"#2AD308\"] }];\r\n\r\n    constructor(private router: Router, private ngZone: NgZone, private studentService: StudentService, private authService: AuthService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getStudents();\r\n    }\r\n\r\n    getStudents() {\r\n      this.studentService\r\n        .getStudents()\r\n        .then(students => {\r\n          if ((students as any).status === \"403\") {\r\n            this.students = null;\r\n          } else {\r\n            this.students = students;\r\n            for (let student of this.students) {\r\n              student.fullName = student.firstName + \" \" + student.lastName;\r\n            }\r\n          }\r\n        })\r\n        .catch(error => this.error = error);\r\n    }\r\n\r\n    addClient() {\r\n      this.router.navigate(['/suitability']);\r\n    }\r\n\r\n    gotoEdit(student: Student, event: any) {\r\n        this.router.navigate(['/student-edit', student.studentID]);\r\n    }\r\n\r\n    addStudent() {\r\n        this.router.navigate(['/student-edit', 'new']);\r\n    }\r\n\r\n    archiveAlert(student: Student, event: any) {\r\n      swal({\r\n          title: 'Archive student (' + student.firstName + ' ' + student.lastName + ')',\r\n          text: \"Are you sure want to do this?\",\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, Archive it!'\r\n      }).then(isConfirm => {\r\n        if (isConfirm) {\r\n          this.archiveStudent(student, event);\r\n        }\r\n      });\r\n    }\r\n\r\n    archiveStudent(student, event): void {\r\n      swal(\r\n          'Sorry...',\r\n          'This functionality is not yet available',\r\n          'info'\r\n      );\r\n    }\r\n\r\n    populatePRF(student) {\r\n        this.studentService\r\n            .populatePRF(student.userID)\r\n            .then(response => {\r\n              swal(\r\n                  'Sorry...',\r\n                  'This feature is not yet available',\r\n                  'info'\r\n              );\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    viewInfo(student: Student) {\r\n      this.showGeneral = true;\r\n      this.showSuitability = false;\r\n      this.showConsent = false;\r\n      this.showLearningStyle = false;\r\n      this.studentInfoView = true;\r\n      this.studentView = student;\r\n      this.studentService\r\n        .getAllFormsByID(student)\r\n        .then(forms => {\r\n          if (forms.status === \"403\") {\r\n            this.consentView = null;\r\n            this.learningStyleView = null;\r\n            this.suitabilityView = null;\r\n          } else {\r\n            this.consentView = forms.consentForm[0];\r\n            this.learningStyleView = forms.learningStyleForm[0];\r\n            this.suitabilityView = forms.suitabilityForm[0];\r\n            this.barChartData = [{ data: [this.learningStyleView.hearing, this.learningStyleView.seeing, this.learningStyleView.doing]}];\r\n          }\r\n        })\r\n        .catch(error => this.error = error);\r\n    }\r\n\r\n    overallStatus() {\r\n      this.studentInfoView = false;\r\n    }\r\n\r\n    sectionBtnClicked(event, section) {\r\n        if (section === \"general\") {\r\n            this.showGeneral = true;\r\n            this.showSuitability = false;\r\n            this.showConsent = false;\r\n            this.showLearningStyle = false;\r\n        } else if (section === \"suitability\") {\r\n            this.showGeneral = false;\r\n            this.showSuitability = true;\r\n            this.showConsent = false;\r\n            this.showLearningStyle = false;\r\n        } else if (section === \"consent\") {\r\n            this.showGeneral = false;\r\n            this.showSuitability = false;\r\n            this.showConsent = true;\r\n            this.showLearningStyle = false;\r\n        } else if (section === \"learningStyle\") {\r\n            this.showGeneral = false;\r\n            this.showSuitability = false;\r\n            this.showConsent = false;\r\n            this.showLearningStyle = true;\r\n        }\r\n    }\r\n\r\n    goBack() {\r\n        window.history.back();\r\n    }\r\n}\r\n"]}