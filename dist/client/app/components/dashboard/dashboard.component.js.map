{"version":3,"sources":["../../client/app/components/dashboard/dashboard.component.ts"],"names":[],"mappings":"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","file":"dashboard.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../services/authentication.service';\r\nimport { Client } from \"../../models/client\";\r\nimport { ClientService } from \"../../services/client.service\";\r\n\r\n@Component({\r\n    selector: 'dashboard',\r\n    templateUrl: './app/components/dashboard/dashboard.component.html',\r\n    styleUrls: ['./app/components/dashboard/dashboard.component.css']\r\n})\r\n\r\nexport class DashboardComponent implements OnInit {\r\n    client: Client[];\r\n\r\n    consentForm: boolean;\r\n    learningStyleForm: boolean;\r\n\r\n    //variables used to toggle dahsboard items\r\n    clientStatus = false;\r\n    manageStudents = false;\r\n    manageStaff = false;\r\n    suitability = false;\r\n    consent = false;\r\n    manageCourses = false;\r\n    caseNotes = false;\r\n    learningStyle = false;\r\n    maesdprf = false;\r\n    timetable = false;\r\n    attendanceList = false;\r\n    attendanceReport = false;\r\n\r\n    userType: any;\r\n\r\n    constructor(private router: Router, private authService: AuthService, private clientService: ClientService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        var currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n        var userType = currentUser.userType;\r\n        var userID = currentUser.userID;\r\n        this.checkAuth(userType, userID);\r\n    }\r\n\r\n    checkAuth(userType, userID) {\r\n        this.userType = userType;\r\n        if (userType === 'Admin') {\r\n            this.clientStatus = true;\r\n            this.manageStudents = true;\r\n            this.manageStaff = true;\r\n            this.suitability = true;\r\n            this.caseNotes = true;\r\n            this.manageCourses = true;\r\n            this.attendanceReport = true;\r\n        } else if (userType === 'Staff') {\r\n            this.clientStatus = true;\r\n            this.manageStudents = true;\r\n            this.suitability = true;\r\n            this.caseNotes = true;\r\n            this.manageCourses = true;\r\n            this.attendanceReport = true;\r\n        } else if (userType === 'Student') {\r\n            this.timetable = true;\r\n        } else if (userType === 'Client') {\r\n            this.consent = true;\r\n            this.learningStyle = true;\r\n            this.maesdprf = true;\r\n            this.checkFormStatus(userID);\r\n        } else if (userType === 'Instructor') {\r\n            this.attendanceList = true;\r\n            this.attendanceReport = true;\r\n            this.caseNotes = true;\r\n        }\r\n    }\r\n\r\n    checkFormStatus(userID) {\r\n        this.clientService\r\n            .getClient(userID)\r\n            .then(object => {\r\n                if (object.status === \"403\") {\r\n                    this.client = null;\r\n                    console.log(\"Error\");\r\n                } else {\r\n                    this.client = object.client[0].firstName;\r\n                    this.consentForm = object.client[0].consent;\r\n                    this.learningStyleForm = object.client[0].learningStyle;\r\n                }\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n}\r\n"]}