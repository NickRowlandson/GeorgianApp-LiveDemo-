{"version":3,"sources":["../../client/app/components/timetable/timetable.component.ts"],"names":[],"mappings":"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","file":"timetable.component.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { Course } from \"../../models/course\";\r\nimport { Student } from \"../../models/Student\";\r\nimport { StudentService } from \"../../services/student.service\";\r\nimport { CourseService} from '../../services/course.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'timetable',\r\n  templateUrl: './app/components/timetable/timetable.component.html',\r\n  styleUrls: ['./app/components/timetable/timetable.component.css']\r\n})\r\n\r\nexport class TimetableComponent implements OnInit {\r\n  @Input() student: Student;\r\n  events: any[] = [];\r\n  header: any;\r\n  options: any;\r\n\r\n\r\n  constructor(private studentService: StudentService, private courseService:CourseService, private route: ActivatedRoute) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    var currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    var userID = currentUser.userID;\r\n\r\n    this.studentService.getEventsById(userID).then(result => {\r\n      result.forEach((i) => {\r\n        var classDay = 0;\r\n\r\n        if (i.classDay === \"Monday\") {\r\n          classDay = 1;\r\n        } else if (i.classDay === \"Tuesday\") {\r\n          classDay = 2;\r\n        } else if (i.classDay === \"Wednesday\") {\r\n          classDay = 3;\r\n        } else if (i.classDay === \"Thursday\") {\r\n          classDay = 4;\r\n        } else if (i.classDay === \"Friday\") {\r\n          classDay = 5;\r\n        }\r\n\r\n        i.courseStart = moment(i.courseStart).format('YYYY-MM-DD');\r\n        i.courseEnd = moment(i.courseEnd).format('YYYY-MM-DD');\r\n        i.classStartTime = moment(i.classStartTime).format('hh:mm A');\r\n        i.classEndTime = moment(i.classEndTime).format('hh:mm A');\r\n\r\n        if (i.classTimeStr) {\r\n          var array = i.classTimeStr.split(',');\r\n          for (let item of array) {\r\n            var date = item.split(' ');\r\n            var day = date[0];\r\n            var time = date[1];\r\n            var startTime = time.split('-')[0];\r\n            var endTime = time.split('-')[1];\r\n            this.events.push(\r\n              {\r\n                \"title\": i.courseName,\r\n                \"start\": day + \"T\" + startTime,\r\n                \"end\": day + \"T\" + endTime\r\n              });\r\n          }\r\n        } else {\r\n          console.log(\"No class date string available\");\r\n        }\r\n      });\r\n    });\r\n\r\n    // this.header = {\r\n    //   left: 'prev',\r\n    //   center: 'title',\r\n    //   right: 'next'\r\n    // };\r\n\r\n    this.options = {\r\n      selectable:true,\r\n      prev: 'circle-triangle-w',\r\n      defaultView: \"agendaWeek\",\r\n      minTime: \"08:00:00\",\r\n      maxTime: \"22:00:00\",\r\n      height: \"auto\"\r\n    };\r\n  }\r\n\r\n  goBack() {\r\n    window.history.back();\r\n  }\r\n}\r\n"]}