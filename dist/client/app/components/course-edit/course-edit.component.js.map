{"version":3,"sources":["../../client/app/components/course-edit/course-edit.component.ts"],"names":[],"mappings":"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","file":"course-edit.component.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { Course } from \"../../models/Course\";\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { CourseService } from \"../../services/course.service\";\r\nimport { SelectItem } from 'primeng/primeng';\r\ndeclare var swal: any;\r\ndeclare var moment;\r\n\r\n@Component({\r\n  selector: 'course-edit',\r\n  templateUrl: './app/components/course-edit/course-edit.component.html',\r\n  styleUrls: ['./app/components/course-edit/course-edit.component.css']\r\n})\r\n\r\n\r\nexport class CourseEditComponent implements OnInit {\r\n  //global variables\r\n  @Input() course: Course;\r\n  weekDays: string[] = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];\r\n  newCourse = false;\r\n  error: any;\r\n  private sub: any;\r\n  id: any;\r\n  weekDay: string;\r\n  idGen: number = 100;\r\n  // calendar\r\n  events: any[] = [];\r\n  event: MyEvent;\r\n  header: any;\r\n  options: any;\r\n  selectedDays: string[] = [];\r\n  // pop up\r\n  dialogVisible: boolean = false;\r\n  // drop down\r\n  professors: SelectItem[] = [{ label: '-- select --', value: '' }];\r\n  campuses: SelectItem[] = [{ label: '-- select --', value: '' }];\r\n\r\n  constructor(private courseService: CourseService, private route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscribeCourse();\r\n\r\n    // get instructors\r\n    this.courseService.getInstructors().then((result) => {\r\n      if ((result as any).result === \"error\") {\r\n        this.displayErrorAlert(result);\r\n      } else {\r\n        result.forEach((i) => {\r\n          this.professors.push({\r\n            label: i.professorName,\r\n            value: i.userID\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n    // get campuses\r\n    this.courseService.getCampuses().then((result) => {\r\n      if ((result as any).result === \"error\") {\r\n        this.displayErrorAlert(result);\r\n      } else {\r\n        result.forEach((i) => {\r\n          this.campuses.push({\r\n            label: i.campusName,\r\n            value: i.campusId\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n    this.header = {\r\n      left: 'prev',\r\n      center: 'title',\r\n      right: 'next'\r\n    };\r\n\r\n    this.options = {\r\n      prev: 'circle-triangle-w',\r\n      defaultView: \"month\",\r\n      height: \"auto\",\r\n      selectable: true,\r\n      displayEventEnd: true\r\n    };\r\n  } // end of init\r\n\r\n  // check boxes onchange event\r\n  cb_onchange(e, weekday) {\r\n    if (e) {\r\n      if (this.course.courseStart === undefined || this.course.courseEnd === undefined || this.course.courseStart === null || this.course.courseEnd == null) {\r\n        swal(\r\n          'Whoops!',\r\n          'Please pick a course start/end date first.',\r\n          'warning'\r\n        );\r\n        this.unCheck(weekday); // unselect element\r\n      } else {\r\n        this.weekDay = weekday;\r\n        this.event = new MyEvent();\r\n        this.event.type = \"batchGen\";\r\n        this.dialogVisible = true;\r\n      }\r\n    } else {\r\n      this.events = this.events.filter(result => result.weekday !== weekday);\r\n    }\r\n  }\r\n\r\n  // this function will uncheck checkbox based on week day that given\r\n  unCheck(weekday) {\r\n    this.selectedDays = this.selectedDays.filter(result => result !== weekday);\r\n  }\r\n\r\n  // this function will generate days that maches specification\r\n  private generateDays(weekday, start_date, end_date) {\r\n\r\n    // figure out what's next week day\r\n    let momentIndex, nextDay;\r\n    for (let i = 0; i < this.weekDays.length; i++) {\r\n      if (this.weekDays[i] === weekday) {\r\n        momentIndex = i + 1;\r\n      }\r\n    }\r\n    if (moment(start_date).isoWeekday() > momentIndex) {\r\n      nextDay = moment(start_date).isoWeekday(momentIndex + 7);\r\n    } else {\r\n      nextDay = moment(start_date).isoWeekday(momentIndex);\r\n    }\r\n    let root = 0, tempStart, tempEnd;\r\n    tempStart = this.event.dayStart;\r\n    tempEnd = this.event.dayEnd;\r\n    while (!(moment(nextDay).add(7 * root, 'day')).isAfter(moment(end_date))) {\r\n      this.event = new MyEvent();\r\n      this.event.id = this.idGen++;\r\n      this.event.dayStart = tempStart;\r\n      this.event.dayEnd = tempEnd;\r\n      this.event.weekday = weekday;\r\n      this.event.title = moment(nextDay).add(7 * root, 'day').format('YYYY-MM-DD');\r\n      this.event.dayStart_correct = moment(tempStart).isValid() ? moment(tempStart).format('HH:mm') : '';\r\n      this.event.dayEnd_correct = moment(tempEnd).isValid() ? moment(tempEnd).format('HH:mm') : '';\r\n      this.event.start = moment(nextDay).add(7 * root, 'day').format('YYYY-MM-DD') + ' ' + this.event.dayStart_correct;\r\n      this.event.end = moment(nextDay).add(7 * root, 'day').format('YYYY-MM-DD') + ' ' + this.event.dayEnd_correct;\r\n      this.events.push(this.event);\r\n      root++;\r\n    }\r\n  }\r\n\r\n  saveEvent() {\r\n    if (this.event.type === 'add') {\r\n\r\n      let momentIndex = -1;\r\n      for (let i = 0; i < this.weekDays.length; i++) {\r\n        if (i === moment(this.event.title).isoWeekday()) {\r\n          momentIndex = i - 1;\r\n        }\r\n      }\r\n      this.event.weekday = this.weekDays[momentIndex];\r\n      this.event.id = this.idGen++;  // title, id , weekday,dayStart,dayEn\r\n      this.event.dayStart_correct = moment(this.event.dayStart).isValid() ? moment(this.event.dayStart).format('HH:mm') : '';\r\n      this.event.dayEnd_correct = moment(this.event.dayEnd).isValid() ? moment(this.event.dayEnd).format('HH:mm') : '';\r\n      this.event.start = this.event.title + ' ' + this.event.dayStart_correct;\r\n      this.event.end = this.event.title + ' ' + this.event.dayEnd_correct;\r\n      if (this.checkExist(this.event.title)) {\r\n        this.events.push(this.event);\r\n      } else {\r\n        alert('event exist');\r\n      }\r\n\r\n    } else if (this.event.type === 'edit') {\r\n\r\n      if (this.event.id) {\r\n        this.event.dayStart_correct = moment(this.event.dayStart).isValid() ? moment(this.event.dayStart).format('HH:mm') : '';\r\n        this.event.dayEnd_correct = moment(this.event.dayEnd).isValid() ? moment(this.event.dayEnd).format('HH:mm') : '';\r\n        this.event.start = this.event.title + ' ' + this.event.dayStart_correct;\r\n        this.event.end = this.event.title + ' ' + this.event.dayEnd_correct;\r\n\r\n        let index: number = this.findEventIndexById(this.event.id);\r\n\r\n        if (index >= 0) {\r\n          this.events[index] = this.event;\r\n        }\r\n      }\r\n    } else if (this.event.type === 'batchGen') {\r\n\r\n      this.generateDays(this.weekDay, this.course.courseStart, this.course.courseEnd);\r\n    }\r\n\r\n    this.dialogVisible = false;\r\n    this.event = null;\r\n  }\r\n\r\n  deleteEvent() {\r\n    let index: number = this.findEventIndexById(this.event.id);\r\n    if (index >= 0) {\r\n      this.events.splice(index, 1);\r\n    }\r\n    this.dialogVisible = false;\r\n  }\r\n\r\n  findEventIndexById(id: number) {\r\n    let index = -1;\r\n    for (let i = 0; i < this.events.length; i++) {\r\n      if (id === this.events[i].id) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n\r\n\r\n  // event handler for event click\r\n  handleEventClick(e) {\r\n    this.event = new MyEvent();\r\n    this.event.type = 'edit';\r\n    this.event.title = e.calEvent.title;\r\n    this.event.dayStart = e.calEvent.dayStart;\r\n    this.event.dayEnd = e.calEvent.dayEnd;\r\n    this.event.start = e.calEvent.start;\r\n    this.event.end = e.calEvent.end;\r\n    this.event.id = e.calEvent.id;\r\n    this.event.weekday = e.calEvent.weekday;\r\n    this.dialogVisible = true;\r\n    // this.events = this.events.filter(result => result !== event );\r\n  }\r\n\r\n  // event handler for day click\r\n  handleDayClick(e) {\r\n    let date = e.date.format();\r\n    this.event = new MyEvent();\r\n    this.event.title = date;\r\n    this.event.type = \"add\";\r\n    this.dialogVisible = true;\r\n  }\r\n\r\n\r\n  checkExist(date) {\r\n    let ndate = this.events.filter(result => result.start === date);\r\n    if (ndate.length === 1) { // if found event exist then return false to prevent new arry.push\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  subscribeCourse() {\r\n    this.sub = this.route.params.subscribe(params => {\r\n      this.id = params['id'];\r\n      if (this.id === 'new') {\r\n        this.newCourse = true;\r\n        this.course = new Course();\r\n      } else {\r\n        this.newCourse = false;\r\n        this.courseService.getCourse(this.id).then((result) => {\r\n          if ((result as any).result === \"error\") {\r\n            this.displayErrorAlert(result);\r\n          } else {\r\n            result.forEach((item) => {\r\n              item.courseStart = moment(item.courseStart).isValid() ? moment(item.courseStart).add(1, 'day').format('YYYY-MM-DD ') : '';\r\n              item.courseEnd = moment(item.courseEnd).isValid() ? moment(item.courseEnd).add(1, 'day').format('YYYY-MM-DD') : '';\r\n            });\r\n            this.course = result[0];\r\n            if (this.course.classTimeStr !== null) {\r\n              this.events = this.detachCourseStr(this.course.classTimeStr);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  detachCourseStr(str) { // temp solution\r\n    let myEvents = [];\r\n    let strArry = str.split(',');\r\n    strArry.forEach(element => {\r\n      let myEvent = new MyEvent();\r\n      myEvent.title = element.split(' ')[0];\r\n      myEvent.id = this.idGen++;\r\n      myEvent.weekday = this.weekDays[moment(myEvent.title).isoWeekday() - 1];\r\n      myEvent.dayStart_correct = element.split(' ')[1].split('-')[0];\r\n      myEvent.dayEnd_correct = element.split(' ')[1].split('-')[1];\r\n      myEvent.start = element.split(' ')[0] + ' ' + myEvent.dayStart_correct;\r\n      myEvent.end = element.split(' ')[0] + ' ' + myEvent.dayEnd_correct;\r\n      myEvent.dayStart = moment(myEvent.start).isValid() ? moment(myEvent.start).format() : '';\r\n      myEvent.dayEnd = moment(myEvent.end).isValid() ? moment(myEvent.end).format() : '';\r\n      myEvent.allDay = false;\r\n      myEvents.push(myEvent);\r\n    });\r\n    return myEvents;\r\n  }\r\n\r\n  generateClassTimeStr() {\r\n    let str = '', tempStart, tempEnd, tempDate;\r\n    for (let i = 0; i < this.events.length; i++) {\r\n      tempDate = this.events[i].title;\r\n      tempStart = this.events[i].dayStart_correct;\r\n      tempEnd = this.events[i].dayEnd_correct;\r\n      if (i === 0) {\r\n        str += `${tempDate} ${tempStart}-${tempEnd}`;\r\n      } else {\r\n        str += `,${tempDate} ${tempStart}-${tempEnd}`;\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n  save() {\r\n    this.course.classTimeStr = this.generateClassTimeStr();\r\n    if (!this.course.courseName || !this.course.courseStart || !this.course.courseEnd || !this.course.professorId || !this.course.campusId || !this.course.classroom || !this.course.classTimeStr) {\r\n      swal(\r\n        'Form Incomplete',\r\n        'Please fill out all fields in the form.',\r\n        'warning'\r\n      );\r\n    } else {\r\n      //**** need validation\r\n      if (this.id === 'new') {\r\n        this.courseService\r\n          .create(this.course)\r\n          .then(course => {\r\n            if ((course as any).result === \"error\") {\r\n              this.displayErrorAlert(course);\r\n            } else if ((course as any).result === \"success\") {\r\n              swal(\r\n                (course as any).title,\r\n                (course as any).msg,\r\n                'success'\r\n              );\r\n              this.goBack();\r\n            } else {\r\n              swal(\r\n                'Error',\r\n                'Something went wrong, please try again.',\r\n                'error'\r\n              );\r\n            }\r\n          })\r\n          .catch(error => this.error = error); // TODO: Display error message\r\n      } else {\r\n        this.courseService\r\n          .update(this.course)\r\n          .then(course => {\r\n            if ((course as any).result === \"error\") {\r\n              this.displayErrorAlert(course);\r\n            } else if ((course as any).result === \"success\") {\r\n              swal(\r\n                (course as any).title,\r\n                (course as any).msg,\r\n                'success'\r\n              );\r\n              this.goBack();\r\n            } else {\r\n              swal(\r\n                'Error',\r\n                'Something went wrong, please try again.',\r\n                'error'\r\n              );\r\n            }\r\n          })\r\n          .catch(error => this.error = error); // TODO: Display error message\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  displayErrorAlert(error) {\r\n    swal(\r\n      error.title,\r\n      error.msg,\r\n      'error'\r\n    );\r\n  }\r\n\r\n  goBack() {\r\n    window.history.back();\r\n  }\r\n}\r\n\r\nexport class MyEvent {\r\n  id: number;\r\n  type: string;\r\n  title: string;\r\n  dayStart: string;\r\n  dayEnd: string;\r\n  dayStart_correct: string;\r\n  dayEnd_correct: string;\r\n  start: string;\r\n  end: string;\r\n  weekday: string;\r\n  allDay: boolean;\r\n}\r\n"]}