<div class="clients">
  <div class="row" *ngIf="data">
    <div class="spacer"></div>
    <div class="col-md-11 inner_header">
      <h1><span style="cursor:pointer" (click)="goBack()"><i class="fa fa-arrow-circle-o-left"></i></span><strong> Manage Clients</strong></h1>
      <button class="orangeButton" (click)="addClient()" title="Add new client"><i class="fa fa-plus"></i> New Client</button>
    </div>
    <div class="col-md-7">
      <h2>Clients</h2>
      <hr>
      <div class="error" *ngIf="error">{{error}}</div>
      <input placeholder="Filter by client name" class="form-control" [(ngModel)]="filterQuery" />
      <div style="overflow:visible; position:relative;">
        <p-dataTable [value]="data | userFilter : filterQuery" [responsive]="true">
          <p-column field="status" header="Status" [sortable]="true" [style]="{'width': '60px'}">
            <template let-data="rowData" pTemplate="body">
              <div [class.statusStage1]="data.suitability" [class.statusStage2]="!data.suitability" [class.statusStage3]="!data.suitability && !data.consent && (!data.banner || !data.cam)" [class.statusStage4]="!data.suitability && !data.consent && data.banner && data.cam"></div>
            </template>
          </p-column>
          <p-column field="fullName" header="Name" [sortable]="true"></p-column>
          <p-column field="email" header="Email" [sortable]="true"></p-column>
          <p-column field="banner" header="Banner" [sortable]="true" [style]="{'width': '95px'}">
            <template let-data="rowData" pTemplate="body">
              <div *ngIf="!data.suitability && !data.consent">
                <p-checkbox [(ngModel)]="data.banner" binary="true" (onChange)="checkboxChange(data)"></p-checkbox>
              </div>
              <div *ngIf="data.suitability || data.consent">
                <p>N/A</p>
              </div>
            </template>
          </p-column>
          <p-column field="cam" header="CAM" [sortable]="true" [style]="{'width': '95px'}">
            <template let-data="rowData" pTemplate="body">
              <div *ngIf="!data.suitability && !data.consent">
                <p-checkbox [(ngModel)]="data.cam" binary="true" (onChange)="checkboxChange(data)"></p-checkbox>
              </div>
              <div *ngIf="data.suitability || data.consent">
                <p>N/A</p>
              </div>
            </template>
          </p-column>
          <p-column header="Action" [style]="{'width': '60px','overflow': 'visible'}">
            <template let-data="rowData" pTemplate="body">
              <div class="btn-group">
                <button type="button" class="dropToggleButton" data-toggle="dropdown">
                  <i class="fa fa-caret-right" aria-hidden="true"></i>
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu" style="position:absolute;">
                  <li><a (click)="showClientView(data)"><i class="fa fa-info-circle" aria-hidden="true"></i> View Info</a></li>
                  <li *ngIf="!data.suitability && !data.consent && data.banner && data.cam"><a (click)="createAsStudent(data)"><i class="fa fa-check" aria-hidden="true"></i> Create as Student</a></li>
                  <li *ngIf="data.suitability"><a (click)="addSuitabilityInfo(data)"><i class="fa fa-check" aria-hidden="true"></i> Add Suitability Info</a></li>
                  <li><a (click)="viewAssessmentResults(data)"><i class="fa fa-list-ol" aria-hidden="true"></i> Assessment Results</a></li>
                  <li class="deleteClient"><a (click)="deleteAlert(data, $event)"><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></li>
                </ul>
              </div>
            </template>
          </p-column>
        </p-dataTable>
      </div>
    </div>
    <div class="col-md-5 sticky">
      <div *ngIf="statusReport">
        <h2>Status Report</h2>
        <hr>
        <div class="well">
          <div style="margin-bottom:100px;">
            <div style="font-size:1.5em;text-align:center;width:30%;float:left">Total clients<br />
              <span style="font-size:1.3em;color:#333F48">{{ clientTotal }}</span>
            </div>
            <div style="font-size:1.5em;text-align:center;width:70%;float:left">Current Default Password <br />
              <span style="font-size:1.3em;color:#333F48">Georgian2018
              <!-- <button class="btn btn-warning btn-xs" style="height:auto;padding:5px 5px;margin-bottom:6px;" (click)="editDefaultPass()" title="Edit Default Pass">
                <i class="fa fa-pencil fa-lg"></i></button> -->
            </span>
            </div>
          </div>
          <div style="display: block">
            <canvas baseChart [data]="doughnutChartData" [labels]="doughnutChartLabels" [colors]="doughnutChartColors" [chartType]="doughnutChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
          </canvas>
          </div>
        </div>
      </div>
      <div *ngIf="clientView">
        <h2>Information for {{clientView.firstName + " " + clientView.lastName}}</h2>
        <div (click)="showStatusReport()" class="statusButton" title="View status report"><i class="fa fa-pie-chart fa-2x" aria-hidden="true"></i></div>
        <hr>
        <div class="well">
          <ul class="sectionBtnGroup col-sm-12">
            <li class="sectionButtons" [ngClass]="{active_tab: showGeneral}" title="General Info" (click)="sectionBtnClicked($event, 'general')">
              <h4>General Info</h4></li>
            <li class="sectionButtons" *ngIf="!clientView.suitability" [ngClass]="{active_tab: showSuitability}" title="Suitability" (click)="sectionBtnClicked($event, 'suitability')">
              <h4>Suitability</h4></li>
            <li class="sectionButtons" *ngIf="!clientView.consent" [ngClass]="{active_tab: showConsent}" title="Consent" (click)="sectionBtnClicked($event, 'consent')">
              <h4>Consent</h4></li>
            <li class="sectionButtons" *ngIf="!clientView.learningStyle" [ngClass]="{active_tab: showLearningStyle}" title="Consent" (click)="sectionBtnClicked($event, 'learningStyle')">
              <h4>Learning Style</h4></li>
            <li class="sectionButtons" [ngClass]="{active_tab: showFiles}" title="Files" (click)="sectionBtnClicked($event, 'files')">
              <h4>Files</h4></li>
          </ul>
          <br>
          <div *ngIf="showGeneral">
            <br />
            <div class="form-group">
              <h3>Viewing General Info for {{ clientView.firstName }}</h3>
              <button (click)="editGeneralInfo(clientView)" class="btn btn-warning"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</button><br><br>
              <label class="control-label">id: </label> {{clientView.userID}}
              <div class="info_seperate"></div>
              <label class="control-label">Inquiry Date: </label> {{clientView.inquiryDate | date}}
              <div class="info_seperate"></div>
              <label class="control-label">Student Number: </label> {{clientView.studentNumber}}
              <div class="info_seperate"></div>
              <label class="control-label">First Name: </label> {{clientView.firstName}}
              <div class="info_seperate"></div>
              <label class="control-label">Last Name: </label> {{clientView.lastName}}
              <div class="info_seperate"></div>
              <label *ngIf="clientView.birthdate" class="control-label">Birth Date: </label> {{clientView.birthdate}}
              <div class="info_seperate"></div>
              <label class="control-label">Email: </label> {{clientView.email}}
              <div class="info_seperate"></div>
              <label class="control-label">Phone: </label> {{clientView.phone}}
              <div class="info_seperate"></div>
              <label class="control-label" style="margin-left:15px">- Okay to Text?: </label> {{clientView.okayToText}}
              <div class="info_seperate"></div>
              <label class="control-label" style="margin-left:15px">- Detailed Message?: </label> {{clientView.allowDetailedMessage}}
              <div class="info_seperate"></div>
              <label class="control-label">Alternate Phone: </label> {{clientView.alternateNumber}}
              <div class="info_seperate"></div>
              <label class="control-label" style="margin-left:15px">- Okay to Text?: </label> {{clientView.okayToTextAlternate}}
              <div class="info_seperate"></div>
              <label class="control-label" style="margin-left:15px">- Detailed Message?: </label> {{clientView.allowDetailedMessageAlternate}}
              <div class="info_seperate"></div>
              <label class="control-label">Comments: </label> {{clientView.comments}}
              <div class="info_seperate"></div>
            </div>
          </div>
          <div *ngIf="showGeneralInfoEdit">
            <h3>Editing General Info for {{ clientEdit.firstName }}</h3>
            <hr>
            <div class="form-group">
              <p><span style="color:red">* </span>Updating first or last name will automatically update this clients username and notify them about the change.</p>
              <label class="control-label">First Name: </label>
              <input class="form-control" type="text" [(ngModel)]="clientEdit.firstName" />
              <label class="control-label">Last Name: </label>
              <input class="form-control" type="text" [(ngModel)]="clientEdit.lastName" />
              <label class="control-label">Student Number: </label>
              <input class="form-control" type="text" [(ngModel)]="clientEdit.studentNumber" />
              <label class="control-label">Email: </label>
              <input class="form-control" type="email" [(ngModel)]="clientEdit.email" /><br />
              <div class="well">
                <label class="control-label">Phone: </label><br />
                <p-inputMask mask="(999) 999-9999" [(ngModel)]="clientEdit.phone" placeholder="(999) 999-9999"></p-inputMask>
                <p-checkbox [(ngModel)]="phone1" binary="true" class="checkboxPadding"></p-checkbox> Cell
                <p-checkbox [(ngModel)]="long1" binary="true" class="checkboxPadding"></p-checkbox> +1<br /><br />
                <label class="control-label" style="margin-left:15px">- Okay to Text?: </label>
                <p-inputSwitch onLabel="Yes" offLabel="No" [(ngModel)]="clientEdit.okayToText"></p-inputSwitch><br />
                <label class="control-label" style="margin-left:15px">- Detailed Message?: </label>
                <p-inputSwitch onLabel="Yes" offLabel="No" [(ngModel)]="clientEdit.allowDetailedMessage"></p-inputSwitch><br />
              </div>
              <div class="well">
                <label class="control-label">Alternate Phone: </label><br />
                <p-inputMask mask="(999) 999-9999" [(ngModel)]="clientEdit.alternateNumber" placeholder="(999) 999-9999"></p-inputMask>
                <p-checkbox [(ngModel)]="phone2" binary="true" class="checkboxPadding"></p-checkbox> Cell
                <p-checkbox [(ngModel)]="long2" binary="true" class="checkboxPadding"></p-checkbox> +1<br /><br />
                <!-- <input class="form-control" type="text" [(ngModel)]="clientEdit.alternateNumber"/> -->
                <label class="control-label" style="margin-left:15px">- Okay to Text?: </label>
                <p-inputSwitch onLabel="Yes" offLabel="No" [(ngModel)]="clientEdit.okayToTextAlternate"></p-inputSwitch><br />
                <label class="control-label" style="margin-left:15px">- Detailed Message?: </label>
                <p-inputSwitch onLabel="Yes" offLabel="No" [(ngModel)]="clientEdit.allowDetailedMessageAlternate"></p-inputSwitch><br />
              </div>
              <label class="control-label">Comments: </label>
              <input class="form-control" type="text" [(ngModel)]="clientEdit.comments" />
              <div class="form-group">
                <div class="col-sm-offset-10 col-sm-1">
                  <button (click)="updateGeneralInfo()" class="btn btn-success" title="Update Info"><i class="fa fa-floppy-o" aria-hidden="true"></i> Update</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="showSuitability" class="">
            <br />
            <div class="form-group">
              <h3>Viewing Suitability Info for {{ suitabilityView.firstName }}</h3>
              <button (click)="editSuitability(clientView)" class="btn btn-warning"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</button><br><br>
              <label class="control-label">Transcript: </label> {{suitabilityView.transcript}}
              <div class="info_seperate"></div>
              <label class="control-label">Course Interests: </label> {{suitabilityView.selectedCourseTypes}}
              <div class="info_seperate"></div>
              <label class="control-label">Goal: </label> {{suitabilityView.goal}}
              <div class="info_seperate"></div>
              <label class="control-label">Transition Date: </label> {{suitabilityView.transitionDate }}
              <div class="info_seperate"></div>
              <label class="control-label">Governament ID: </label> {{suitabilityView.governmentID}}
              <div class="info_seperate"></div>
              <label class="control-label">Appropriate Goal: </label> {{suitabilityView.appropriateGoal}}
              <div class="info_seperate"></div>
              <label class="control-label">19+ Years Old: </label> {{suitabilityView.isValidAge}}
              <div class="info_seperate"></div>
              <label class="control-label">Not Registered In High School or Post-Sec: </label> {{suitabilityView.schoolRegistration}}
              <div class="info_seperate"></div>
              <label class="control-label">Available During Class Time: </label> {{suitabilityView.availableDuringClass}}
              <div class="info_seperate"></div>
              <label class="control-label">Last Grade Completed: </label> {{suitabilityView.lastGrade}}
              <div class="info_seperate"></div>
              <label class="control-label">Level: </label> {{suitabilityView.level}}
              <div class="info_seperate"></div>
              <label class="control-label">Post-Secondary/Job Offer start date: </label> {{suitabilityView.offerStartDate}}
              <div class="info_seperate"></div>
              <label class="control-label">Meets Next Goals Requirements: </label> {{suitabilityView.meetsGoal}}
              <div class="info_seperate"></div>
              <label class="control-label">Time out of School/Training: </label> {{suitabilityView.timeOutOfSchool}}
              <div class="info_seperate"></div>
              <label class="control-label">Has Been In Program Before: </label> {{suitabilityView.inProgramBefore}}
              <div class="info_seperate"></div>
              <label class="control-label">Employment: </label> {{suitabilityView.employment}}
              <div class="info_seperate"></div>
              <label class="control-label">Income Source: </label> {{suitabilityView.incomeSource}}
              <div class="info_seperate"></div>
              <label class="control-label">Age: </label> {{suitabilityView.ageRange}}
              <div class="info_seperate"></div>
              <label class="control-label"># of Hours/Week: </label> {{suitabilityView.hoursPerWeek}}
              <div class="info_seperate"></div>
              <label class="control-label">Work History: </label> {{suitabilityView.workHistory}}
              <div class="info_seperate"></div>
              <label class="control-label">Health a Factor: </label> {{suitabilityView.factorHealth}}
              <div class="info_seperate"></div>
              <label class="control-label">Instructions a Factor: </label> {{suitabilityView.factorInstructions}}
              <div class="info_seperate"></div>
              <label class="control-label">Communication a Factor: </label> {{suitabilityView.factorCommunication}}
              <div class="info_seperate"></div>
              <label class="control-label">Language a Factor: </label> {{suitabilityView.factorLanguage}}
              <div class="info_seperate"></div>
              <label class="control-label">Computer a Factor: </label> {{suitabilityView.factorComputer}}
              <div class="info_seperate"></div>
              <label class="control-label">Housing a Factor: </label> {{suitabilityView.factorHousing}}
              <div class="info_seperate"></div>
              <label class="control-label">Transportation a Factor: </label> {{suitabilityView.factorTransportation}}
              <div class="info_seperate"></div>
              <label class="control-label">Daycare a Factor: </label> {{suitabilityView.factorDaycare}}
              <div class="info_seperate"></div>
              <label class="control-label">Internet a Factor: </label> {{suitabilityView.factorInternet}}
              <div class="info_seperate"></div>
              <label class="control-label">Personal a Factor: </label> {{suitabilityView.factorPersonal}}
              <div class="info_seperate"></div>
              <label class="control-label">Other Factor : </label> {{suitabilityView.factorOther}}
              <div class="info_seperate"></div>
              <label class="control-label">Transportation Summary: </label> {{suitabilityView.summaryTransportation}}
              <div class="info_seperate"></div>
              <label class="control-label">Housing Summary: </label> {{suitabilityView.summaryHousing}}
              <div class="info_seperate"></div>
              <label class="control-label">Health Summary: </label> {{suitabilityView.summaryHealth}}
              <div class="info_seperate"></div>
              <label class="control-label">Other Summary: </label> {{suitabilityView.summaryOther}}
              <div class="info_seperate"></div>
              <label class="control-label">Suitability Points: </label> {{suitabilityView.points}}
              <div class="info_seperate"></div>
              <label class="control-label">Comments: </label> {{suitabilityView.comments}}
              <div class="info_seperate"></div>
            </div>
          </div>
          <div *ngIf="addSuitability || showSuitabilityEdit">
            <!-- end of section 1 -->
            <div *ngIf="addSuitability" class="addSuitability">
              <h3>Adding Suitability for {{ clientSuitability.firstName }}</h3>
              <div (click)="showStatusReport()" class="statusButton" title="View status report"><i class="fa fa-pie-chart fa-2x" aria-hidden="true"></i></div>
              <hr>
            </div>
            <div *ngIf="showSuitabilityEdit" class="addSuitability">
              <h3>Editing Suitability for {{ clientSuitability.firstName }}</h3>
              <div (click)="showStatusReport()" class="statusButton" title="View status report"><i class="fa fa-pie-chart fa-2x" aria-hidden="true"></i></div>
              <hr>
            </div>
            <label class="col-md-3 control-label">Course Interests: </label>
            <div class="col-md-9">
              <p-multiSelect [options]="courseTypes" [(ngModel)]="selectedCourseTypes" optionLabel="name"></p-multiSelect>
            </div>

            <label class="col-md-3 control-label">Goal: </label>
            <div class="col-md-9">
              <input class="form-control" type="text" [(ngModel)]="suitabilityForm.goal" />
            </div>

            <label class="col-md-3 control-label">Transition Date: </label>
            <div class="col-md-9">
              <input class="form-control" type="date" [(ngModel)]="suitabilityForm.transitionDate" />
            </div>
            <div>
              <div style="height: 25px;clear:both"></div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.transcript === true" (click)="suitabilityForm.transcript = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.transcript === false || suitabilityForm.transcript === 'undefined'" (click)="suitabilityForm.transcript = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">Transcript</label>
              </div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.governmentID === true" (click)="suitabilityForm.governmentID = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.governmentID === false || suitabilityForm.governmentID === 'undefined'" (click)="suitabilityForm.governmentID = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">Gov't ID</label>
              </div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.appropriateGoal === true" (click)="suitabilityForm.appropriateGoal = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.appropriateGoal === false || suitabilityForm.appropriateGoal === 'undefined'" (click)="suitabilityForm.appropriateGoal = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">Appropriate Occupational Goal</label>
              </div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.isValidAge === true" (click)="suitabilityForm.isValidAge = 'false'" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.isValidAge === false || suitabilityForm.isValidAge === 'undefined'" (click)="suitabilityForm.isValidAge = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">19+ Years Old</label>
              </div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.schoolRegistration === true" (click)="suitabilityForm.schoolRegistration = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.schoolRegistration === false || suitabilityForm.schoolRegistration === 'undefined'" (click)="suitabilityForm.schoolRegistration = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">Registered In High School/Post-Sec</label>
              </div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.availableDuringClass === true" (click)="suitabilityForm.availableDuringClass = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.availableDuringClass === false || suitabilityForm.availableDuringClass === 'undefined'" (click)="suitabilityForm.availableDuringClass = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">Available During Class Time</label>
              </div>
            </div>
            <div style="height: 25px;clear:both"></div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Last Grade Completed: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.lastGrade" required #lastGrade="ngModel">
                          <option value="Less than grade 10">Less than grade 10</option>
                          <option value="Grade 10-11">Grade 10-11</option>
                          <option value="Grade 12">Grade 12</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Level: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.level" required #level="ngModel">
                          <option value="Academic/Advanced">Academic/Advanced</option>
                          <option value="Applied/General">Applied/General</option>
                          <option value="Workplace/Basic">Workplace/Basic</option>
                        </select>
              </div>
            </div>
            <!-- PART A: START -->
            <div class="form-group margin">
              <label class="text-nowrap control-label">Post-Secondary/Job Offer start date: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.offerStartDate" required #offerStartDate="ngModel">
                          <option value="Less than one year">Less than one year</option>
                          <option value="In one year">In one year</option>
                          <option value="More than a Year">More than a Year</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Meets Next Goals Requirements: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.meetsGoal" required #meetsGoals="ngModel">
                          <option value="No">No</option>
                          <option value="Yes but lacks skills/high enough marks">Yes but lacks skills/high enough marks</option>
                          <option value="Yes">Yes</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Time out of School/Training: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.timeOutOfSchool" required #school="ngModel">
                          <option value="6 or more years">6 or more years</option>
                          <option value="1-6 years">1-6 years</option>
                          <option value="Less than 1 year">Less than 1 year</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Has Been In Program Before: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.inProgramBefore" required #program="ngModel">
                          <option value="No/Left with appropriate reasons">No/Left with appropriate reasons</option>
                          <option value="Yes - Appropriate progress">Yes - Appropriate progress</option>
                          <option value="Yes – No progress">Yes – No progress</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Employment: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.employment" required #employment="ngModel">
                          <option value="Not working">Not working</option>
                          <option value="Working part time">Working part time</option>
                          <option value="Working full time">Working full time</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Income Source: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.incomeSource" required #income="ngModel">
                          <option value="EI">EI</option>
                          <option value="OW">OW</option>
                          <option value="ODSP">ODSP</option>
                          <option value="Crown Ward">Crown Ward</option>
                          <option value="Self-employed">Self-employed</option>
                          <option value="Second Career">Second Career</option>
                          <option value="No income">No income</option>
                          <option value="Dependent of OW/ODSP">Dependent of OW/ODSP</option>
                          <option value="Employed">Employed</option>
                          <option value="WSIB">WSIB</option>
                          <option value="International Student">International Student</option>
                        </select>
              </div>
            </div>
            <div class="form-group margin">
              <label class="text-nowrap control-label">Age: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.ageRange" required #age="ngModel">
                          <option value="16-18 years old">16-18 years old</option>
                          <option value="19-29 years old">19-29 years old</option>
                          <option value="30-44 years old">30-44 years old</option>
                          <option value="45-65 years old">45-65 years old</option>
                          <option value="65+ years old">65+ years old</option>
                        </select>
              </div>
            </div>
            <!-- PART A: ENDS -->
            <!-- PART B: START -->
            <div class="form-group margin">
              <label class="text-nowrap control-label"># of Hours/Week: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.hoursPerWeek" required #hours="ngModel">
                          <option value="Less than 5">Less than 5</option>
                          <option value="5-10">5-10</option>
                          <option value="10-20">10-20</option>
                        </select>
              </div>
            </div>
            <!-- Apply judgement? -->
            <div class="form-group margin">
              <label class="text-nowrap control-label">Work History: </label>
              <div class="col-md-12">
                <select class="form-control" [(ngModel)]="suitabilityForm.workHistory" required #history="ngModel">
                          <option value="Less than 1 year experience">Less than 1 year experience</option>
                          <option value="1-4 years experience">1-4 years experience</option>
                          <option value="4+ years experience">4+ years experience</option>
                        </select>
              </div>
            </div>
            <div style="height: 25px;clear:both"></div>
            <h3>Factors Affecting Client Success</h3>
            <hr>
            <h4>Check all options that apply.</h4>
            <div>
              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorHealth === true" (click)="suitabilityForm.factorHealth = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorHealth === false || suitabilityForm.factorHealth === 'undefined' " (click)="suitabilityForm.factorHealth = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has health problems that may prevent client from working effectively
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorInstructions === true" (click)="suitabilityForm.factorInstructions = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorInstructions === false || suitabilityForm.factorInstructions === 'undefined'" (click)="suitabilityForm.factorInstructions = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has difficulty understanding instructions
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorCommunication === true" (click)="suitabilityForm.factorCommunication = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorCommunication === false || suitabilityForm.factorCommunication === 'undefined'" (click)="suitabilityForm.factorCommunication = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has difficulty communicating
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorLanguage === true" (click)="suitabilityForm.factorLanguage = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorLanguage === false || suitabilityForm.factorLanguage === 'undefined'" (click)="suitabilityForm.factorLanguage = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has language barrier
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorComputer === true" (click)="suitabilityForm.factorComputer = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorComputer === false || suitabilityForm.factorComputer === 'undefined'" (click)="suitabilityForm.factorComputer = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has limited computer skills
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorHousing === true" (click)="suitabilityForm.factorHousing = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorHousing === false || suitabilityForm.factorHousing === 'undefined'" (click)="suitabilityForm.factorHousing = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client has housing instability
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorTransportation === true" (click)="suitabilityForm.factorTransportation = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorTransportation === false || suitabilityForm.factorTransportation === 'undefined'" (click)="suitabilityForm.factorTransportation = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Transportation is limited restricted (no license/ no $ for bus/gas)
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorDaycare === true" (click)="suitabilityForm.factorDaycare = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorDaycare === false || suitabilityForm.factorDaycare === 'undefined'" (click)="suitabilityForm.factorDaycare = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client does not have reliable daycare
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorInternet === true" (click)="suitabilityForm.factorInternet = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorInternet === false || suitabilityForm.factorInternet === 'undefined'" (click)="suitabilityForm.factorInternet = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client does not have phone/internet access
                        </label>
              </div>

              <div class="col-md-12">
                <button *ngIf="suitabilityForm.factorPersonal === true" (click)="suitabilityForm.factorPersonal = false" class="btn btn-success booleanBtn">Yes</button>
                <button *ngIf="suitabilityForm.factorPersonal === false || suitabilityForm.factorPersonal === 'undefined'" (click)="suitabilityForm.factorPersonal = true" class="btn btn-warning booleanBtn">No</button>
                <label class="control-label">
                          Client is going through difficulties in his/her personal life (legal, family, substance abuse, financial)
                        </label>
              </div>
            </div>
            <div class="col-md-12" style="margin-top:15px;">
              <label class="textbox">
                        Other:
                      </label>
              <input class="form-control" type="text" name="other" [(ngModel)]="suitabilityForm.factorOther" />
            </div>
            <div style="height: 25px;clear:both"></div>
            <h3>Summary Notes</h3>
            <hr>
            <div class="col-md-12">
              <div class="form-group">
                <label for="comment">Transportation:</label>
                <textarea class="form-control" rows="2" name="transportation" [(ngModel)]="suitabilityForm.summaryTransportation"></textarea>
              </div>
              <div class="form-group">
                <label for="comment">Housing:</label>
                <textarea class="form-control" rows="2" name="housing" [(ngModel)]="suitabilityForm.summaryHousing"></textarea>
              </div>
              <div class="form-group">
                <label for="comment">Childcare:</label>
                <textarea class="form-control" rows="2" name="childcare" [(ngModel)]="suitabilityForm.summaryChildcare"></textarea>
              </div>
              <div class="form-group">
                <label for="comment">Health:</label>
                <textarea class="form-control" rows="2" name="health" [(ngModel)]="suitabilityForm.summaryHealth"></textarea>
              </div>
              <div class="form-group">
                <label for="comment">Other:</label>
                <textarea class="form-control" rows="2" name="summaryother" [(ngModel)]="suitabilityForm.summaryOther"></textarea>
              </div>
            </div>
            <div style="height: 25px;clear:both"></div>
            <h3>Review</h3>
            <hr>
            <div style="height:250px">
              <div *ngIf="!calculated" class="col-md-12" style="margin-bottom:50px;cursor:pointer">
                <button class="btn btn-primary" (click)="calculate()"><i class="fa fa-refresh" aria-hidden="true"></i> Calculate</button>
              </div>
              <div *ngIf="calculated" class="col-md-12" style="margin-bottom:50px;cursor:pointer">
                <button class="btn btn-primary" (click)="tallyPoints()"><i class="fa fa-refresh" aria-hidden="true"></i> Re-Calculate</button>
              </div>
              <div *ngIf="calculated" class="col-md-12">
                <div class="form-group col-md-12">
                  <label class="col-md-3 control-label">Part A total: </label>
                  <div class="col-md-3">
                    <input class="form-control" value="{{partAPoints}}" type="number" name="partA" disabled>
                  </div>
                </div>
                <div class="form-group col-md-12">
                  <label class="col-md-3 control-label">Part B total: </label>
                  <div class="col-md-3">
                    <input class="form-control" value="{{partBPoints}}" type="number" name="partB" disabled>
                  </div>
                </div>
                <div class="form-group col-md-12">
                  <label class="col-md-3 control-label">Total: </label>
                  <div class="col-md-3">
                    <input class="form-control" value="{{totalPoints}}" type="number" name="totalPoints" disabled>
                    <input class="form-control" value="{{totalPoints}}" type="hidden" name="totalPoints" [(ngModel)]="suitabilityForm.dbTotalPoints">
                  </div>
                  <div *ngIf="warning" style="color:#FFA500; padding-top:7px;">
                    <i class="fa fa-exclamation-circle" aria-hidden="true"></i> <label>Minimum requirement of 18 total points not met.</label>
                  </div>
                  <div *ngIf="!warning" style="color:#338B33; padding-top:7px;">
                    <i class="fa fa-check" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-offset-10 col-sm-1">
                  <button (click)="saveSuitability()" class="saveButton" title="Save suitability"><h4><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</h4></button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="showConsent" class="">
            <h3>Viewing Consent Info for {{ studentView.firstName }}</h3>
            <br />
            <div class="form-group">
              <div *ngIf="clientView.editConsentRequest">
                <strong><h3>{{studentView.firstName}} is requesting to edit: </h3></strong>
                <button (click)="allowClientToEdit(clientView, true)" class="btn btn-success"><i class="fa fa-check" aria-hidden="true"></i> Grant</button>
                <button (click)="allowClientToEdit(clientView, false)" class="btn btn-danger"><i class="fa fa-times" aria-hidden="true"></i> Deny</button>
                <hr>
              </div>
              <div class="form-group">
                <label class="control-label">Please select a consent record: </label><br />
                <select class="form-control" style="display: inline-block;max-width: 200px;" [(ngModel)]="selectedConsentForm" (change)="onSelectChange($event.value)">
                          <option [selected]="isSelected">Select</option>
                          <option *ngFor="let item of clientConsentForms" value="{{item.consentID}}">{{ item.date | date :'medium' }}</option>
                        </select>
              </div>
              <div *ngIf="consentView">
                <label class="control-label">Date: </label> {{consentView.date}}
                <div class="info_seperate"></div>
                <label class="control-label">Ontario Works: </label> {{consentView.ontarioWorks}} <br />
                <div *ngIf="consentView.ontarioWorks">
                  <label class="control-label">   - OW Case Worker Name: </label> {{consentView.owCaseWorkerName}} <br />
                  <label class="control-label">   - OW Case Worker Phone: </label> {{consentView.owCaseWorkerPhone}} <br />
                  <label class="control-label">   - OW Case Worker Email: </label> {{consentView.owCaseWorkerEmail}} <br />
                </div>
                <div class="info_seperate"></div>
                <label class="control-label">Ontario Disability Support Program: </label> {{consentView.ontarioDisabilityProgram}} <br />
                <div *ngIf="consentView.ontarioDisabilityProgram">
                  <label class="control-label">   - ODSP Agency Name: </label> {{consentView.odspAgencyName}} <br />
                  <label class="control-label">   - ODSP Contact Name: </label> {{consentView.odspContactName}} <br />
                  <label class="control-label">   - ODSP Phone: </label> {{consentView.odspPhone}} <br />
                  <label class="control-label">   - ODSP Email: </label> {{consentView.odspEmail}} <br />
                </div>
                <div class="info_seperate"></div>
                <label class="control-label">Employment Insurance: </label> {{consentView.employmentInsurance}}
                <div class="info_seperate"></div>
                <label class="control-label">Employment Services: </label> {{consentView.employmentServices}} <br />
                <div *ngIf="employmentServices">
                  <label class="control-label">   - ES Agency Name: </label> {{consentView.esAgencyName}} <br />
                  <label class="control-label">   - ES Contact Name: </label> {{consentView.esContactName}} <br />
                  <label class="control-label">   - ES Phone: </label> {{consentView.esPhone}} <br />
                  <label class="control-label">   - ES Email: </label> {{consentView.esEmail}} <br />
                </div>
                <div class="info_seperate"></div>
                <label class="control-label">WSIB: </label> {{consentView.wsib}} <br />
                <div *ngIf="consentView.wsib">
                  <label class="control-label">   - WSIB Work Transition Specialist Name: </label> {{consentView.wsibWtsName}} <br />
                  <label class="control-label">   - WSIB Work Transition Specialist Phone: </label> {{consentView.wsibWtsPhone}} <br />
                </div>
                <div class="info_seperate"></div>
                <label class="control-label">Other: </label> {{consentView.other}}
                <div class="info_seperate"></div>
                <label class="control-label">Contact Name: </label> {{consentView.contactName}}
                <div class="info_seperate"></div>
                <label class="control-label">Contact Number: </label> {{consentView.contactNum}}
                <div class="info_seperate"></div>
                <label class="control-label">Literacy Agencies: </label> {{consentView.literacyAgencies}}
                <div class="info_seperate"></div>
                <label class="control-label">Literacy Witness: </label> {{consentView.literacyWitness}}
                <div class="info_seperate"></div>
              </div>
            </div>
          </div>
          <div *ngIf="showLearningStyle">
            <h3>Viewing Learning Style for {{ clientView.firstName }}</h3>
            <br />
            <p><strong>{{clientView.firstName}} learns best by: </strong>{{ learningStyleView.learnBy }}</p>
            <div>
              <div style="display: block">
                <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [colors]="barChartColors" [legend]="barChartLegend" [chartType]="barChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
              </div>
            </div>
          </div>
          <div *ngIf="showAssessmentResults">
            <h3 *ngIf="editAssessment">Edit Assessment Results for {{ clientView.firstName }}</h3>
            <h3 *ngIf="!editAssessment">Enter Assessment Results for {{ clientView.firstName }}</h3>
            <br />
            <label class="control-label">Reading Comprehension Assessment #1: </label>
            <input class="form-control" type="text" [(ngModel)]="assessmentResults.readingComp1" />
            <label class="control-label">Reading Comprehension Assessment #2: </label>
            <input class="form-control" type="text" [(ngModel)]="assessmentResults.readingComp2" />
            <label class="control-label">Reading Comprehension Assessment #3: </label>
            <input class="form-control" type="text" [(ngModel)]="assessmentResults.readingComp3" />
            <label class="control-label">Numeracy Assessment: </label>
            <input class="form-control" type="text" [(ngModel)]="assessmentResults.numeracy" />
            <label class="control-label">Digital Assessment: </label>
            <input class="form-control" type="text" [(ngModel)]="assessmentResults.digital" />
            <br />
            <button *ngIf="!editAssessment" class="btn btn-success marginBottomButton" (click)="addAssessmentResults(clientView.userID)" style="float:right" title="Add Assessment Results"><i class="fa fa-upload"></i> Submit</button>
            <button *ngIf="editAssessment" class="btn btn-success marginBottomButton" (click)="editAssessmentResults(clientView.userID)" style="float:right" title="Edit Assessment Results"><i class="fa fa-upload"></i> Submit</button>
            <div style="clear:both"></div>
          </div>
          <div *ngIf="showFiles">
            <h3>Viewing Files for {{ clientView.firstName }}</h3>
            <button class="btn btn-success marginBottomButton" (click)="addFile()" title="Add new file"><i class="fa fa-upload"></i> Upload File</button>
            <div style="overflow:visible; position:relative;">
              <p-dataTable [value]="clientFiles | userFilter : filterQuery" [responsive]="true">
                <p-column field="userID" header="UserID" [sortable]="true"></p-column>
                <p-column field="filename" header="File Name" [sortable]="true"></p-column>
                <p-column field="date" header="Upload Date" [sortable]="true"></p-column>
                <p-column header="Action" [style]="{'width': '60px','overflow': 'visible'}">
                  <template let-data="rowData" pTemplate="body">
                            <div class="btn-group">
                              <button type="button" class="dropToggle btn btn-danger dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                              </button>
                              <ul class="dropdown-menu" role="menu">
                                <li><a (click)="download(data)"><i class="fa fa-download" aria-hidden="true"></i> Download</a></li>
                                <li><a (click)="deleteFileAlert(data)"><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></li>
                              </ul>
                            </div>
                          </template>
                </p-column>
              </p-dataTable>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
