{"version":3,"sources":["../../client/app/components/file-upload/file-upload.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAUM,GAAG,GAAG,gBAAgB,CAAC;YAQhB,mBAAmB,GAAhC;gBAOE,YAAoB,MAAc,EAAU,KAAqB,EAAU,WAAwB,EAAU,cAA8B,EAAU,aAA4B;oBAA7J,WAAM,GAAN,MAAM,CAAQ;oBAAU,UAAK,GAAL,KAAK,CAAgB;oBAAU,gBAAW,GAAX,WAAW,CAAa;oBAAU,mBAAc,GAAd,cAAc,CAAgB;oBAAU,kBAAa,GAAb,aAAa,CAAe;oBAFjL,UAAK,GAAU,EAAE,CAAC;oBA6CX,wBAAmB,GAAW,KAAK,CAAC;oBA1CzC,IAAI,CAAC,QAAQ,GAAG,IAAI,8BAAY,CAAC,EAAC,GAAG,EAAE,GAAG,EAAC,CAAC,CAAC;oBAC7C,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,CAAC,IAAQ,EAAE,QAAY,EAAE,MAAU,EAAE,OAAW,EAAE,EAAE;wBAC/E,sDAAsD;oBAC1D,CAAC,CAAC;gBACJ,CAAC;gBAED,QAAQ;oBACN,IAAI,CAAC,cAAc;yBACd,WAAW,EAAE;yBACb,IAAI,CAAC,QAAQ,CAAC,EAAE;wBACb,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBACzB,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;4BACjC,IAAI,IAAI,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,GAAG,GAAG,GAAG,OAAO,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC;4BACxF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACvB;oBACL,CAAC,CAAC;yBACD,KAAK,CAAC,KAAK,CAAC,EAAE;wBACb,eAAe;oBACjB,CAAC,CAAC,CAAC;oBACL,IAAI,CAAC,aAAa;yBACb,UAAU,EAAE;yBACZ,IAAI,CAAC,OAAO,CAAC,EAAE;wBACZ,IAAI,CAAC,OAAO,GAAI,OAAe,CAAC,OAAO,CAAC;wBACxC,KAAK,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;4BAC/B,IAAI,IAAI,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC;4BACrF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACvB;oBACL,CAAC,CAAC;yBACD,KAAK,CAAC,KAAK,CAAC,EAAE;wBACb,eAAe;oBACjB,CAAC,CAAC,CAAC;gBACX,CAAC;gBAED,UAAU;oBACR,6BAA6B;oBAC7B,6DAA6D;oBAC7D,MAAM;oBACN,IAAI,CAAC,QAAQ,CAAC,kBAAkB,GAAG,CAAC,IAAI,EAAE,EAAE;wBAC1C,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC/D,CAAC,CAAC;gBACJ,CAAC;gBAIM,YAAY,CAAC,CAAK;oBACvB,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;gBAC/B,CAAC;gBAED,MAAM;oBACF,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBAC1B,CAAC;aACF,CAAA;YA3DY,mBAAmB;gBAN/B,gBAAS,CAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,WAAW,EAAE,yDAAyD;oBACtE,SAAS,EAAE,CAAC,wDAAwD,CAAC;iBACxE,CAAC;iDAS4B,eAAM,EAAiB,uBAAc,EAAuB,oCAAW,EAA0B,gCAAc,EAAyB,8BAAa;eAPtK,mBAAmB,CA2D/B;;QACD,CAAC","file":"file-upload.component.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { AuthService } from '../../services/authentication.service';\r\nimport { StudentService } from '../../services/student.service';\r\nimport { ClientService } from '../../services/client.service';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { Student } from \"../../models/Student\";\r\nimport { Client } from \"../../models/Client\";\r\n\r\nconst URL = 'api/uploadFile';\r\n\r\n@Component({\r\n    selector: 'fileUpload',\r\n    templateUrl: './app/components/file-upload/file-upload.component.html',\r\n    styleUrls: ['./app/components/file-upload/file-upload.component.css']\r\n})\r\n\r\nexport class FileUploadComponent implements OnInit {\r\n  public uploader:FileUploader;\r\n  students: Student[];\r\n  clients: Client[];\r\n  selectedStudent: number;\r\n  users: any[] = [];\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute, private authService: AuthService, private studentService: StudentService, private clientService: ClientService) {\r\n    this.uploader = new FileUploader({url: URL});\r\n    this.uploader.onCompleteItem = (item:any, response:any, status:any, headers:any) => {\r\n        // console.log(\"ImageUpload:uploaded:\", item, status);\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.studentService\r\n        .getStudents()\r\n        .then(students => {\r\n            this.students = students;\r\n            for (let student of this.students) {\r\n              var info = { label: student.firstName + ' ' + student.lastName, value: student.userID };\r\n              this.users.push(info);\r\n            }\r\n        })\r\n        .catch(error => {\r\n          // do something\r\n        });\r\n      this.clientService\r\n          .getClients()\r\n          .then(clients => {\r\n              this.clients = (clients as any).clients;\r\n              for (let client of this.clients) {\r\n                var info = { label: client.firstName + ' ' + client.lastName, value: client.userID };\r\n                this.users.push(info);\r\n              }\r\n          })\r\n          .catch(error => {\r\n            // do something\r\n          });\r\n  }\r\n\r\n  userSelect() {\r\n    // this.uploader.setOptions({\r\n    //   additionalParameter: { studentID: this.selectedStudent }\r\n    // });\r\n    this.uploader.onBeforeUploadItem = (item) => {\r\n      item.file.name = this.selectedStudent + '_' + item.file.name;\r\n    };\r\n  }\r\n\r\n  public hasBaseDropZoneOver:boolean = false;\r\n\r\n  public fileOverBase(e:any):void {\r\n    this.hasBaseDropZoneOver = e;\r\n  }\r\n\r\n  goBack() {\r\n      window.history.back();\r\n  }\r\n}\r\n"]}