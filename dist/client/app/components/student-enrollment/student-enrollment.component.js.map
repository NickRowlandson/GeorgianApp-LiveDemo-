{"version":3,"sources":["../../client/app/components/student-enrollment/student-enrollment.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAgBa,0BAA0B,GAAvC;gBAgBE,YAAoB,cAA8B,EAAU,aAA4B,EAAU,KAAqB;oBAAnG,mBAAc,GAAd,cAAc,CAAgB;oBAAU,kBAAa,GAAb,aAAa,CAAe;oBAAU,UAAK,GAAL,KAAK,CAAgB;oBAdvH,YAAO,GAAY,IAAI,CAAC;oBACxB,sBAAiB,GAAU,EAAE,CAAC;gBAe9B,CAAC;gBAED,QAAQ;oBACN,IAAI,CAAC;wBACH,KAAK,EAAE,YAAY;wBACnB,iBAAiB,EAAE,KAAK;qBACzB,CAAC,CAAC;oBACH,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAc,EAAE,EAAE;wBAC3C,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,EAAE;4BACxE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;4BAC3B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;4BACnC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;4BAC3C,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;4BACvC,IAAI,CAAC,WAAW,EAAE,CAAC;yBACpB;6BAAM,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,EAAE;4BACtD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;4BAC5B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;4BACvC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;4BACrC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBACrC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;gBAED,WAAW;oBACT,IAAI,CAAC,cAAc;yBAChB,WAAW,EAAE;yBACb,IAAI,CAAC,MAAM,CAAC,EAAE;wBACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;4BACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;4BACrB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;yBAChC;6BAAM;4BACL,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;4BACvB,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;gCACjC,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,SAAS,GAAG,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC;6BAC/D;4BACD,IAAI,CAAC,aAAa,EAAE,CAAC;yBACtB;oBACH,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC7B,CAAC;gBAED,cAAc,CAAC,EAAE;oBACf,IAAI,CAAC,cAAc;yBAChB,UAAU,CAAC,EAAE,CAAC;yBACd,IAAI,CAAC,MAAM,CAAC,EAAE;wBACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;4BACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;4BACpB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;yBAChC;6BAAM;4BACL,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;4BACtB,IAAI,CAAC,UAAU,EAAE,CAAC;yBACnB;oBACH,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC7B,CAAC;gBAED,UAAU;oBACR,IAAI,CAAC,aAAa;yBACf,UAAU,EAAE;yBACZ,IAAI,CAAC,MAAM,CAAC,EAAE;wBACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;4BACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;yBAChC;6BAAM;4BACL,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;4BACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC1E,IAAI,CAAC,aAAa,EAAE,CAAC;yBACtB;oBACH,CAAC,CAAC;yBACD,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC3B,CAAC;gBAED,aAAa;oBACX,IAAI,CAAC,cAAc;yBAChB,aAAa,EAAE;yBACf,IAAI,CAAC,MAAM,CAAC,EAAE;wBACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;4BACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;yBAChC;6BAAM;4BACL,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;4BAChC,IAAI,CAAC,iBAAiB,EAAE,CAAC;yBAC1B;oBACH,CAAC,CAAC;yBACD,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC3B,CAAC;gBAED,iBAAiB;oBACf,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;wBACzB,KAAK,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;4BAC/B,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,KAAM,IAAI,CAAC,OAAe,CAAC,MAAM,CAAC,CAAC;4BAC9F,KAAK,IAAI,IAAI,IAAI,SAAS,EAAE;gCAC1B,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC;gCACjC,IAAI,YAAY,KAAK,MAAM,CAAC,QAAQ,EAAE;oCACpC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;iCACxB;qCAAM;oCACL,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;iCACzB;6BACF;yBACF;qBACF;yBAAM;wBACL,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;4BACjC,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM,CAAC,CAAC;4BAChF,KAAK,IAAI,IAAI,IAAI,SAAS,EAAE;gCAC1B,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gCAC5C,IAAI,YAAY,KAAK,IAAI,CAAC,QAAQ,EAAE;oCAClC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;iCACzB;6BACF;yBACF;qBACF;oBACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC;gBAED,aAAa,CAAC,IAAI;oBAChB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;wBAC1C,IAAI,CAAC;4BACH,KAAK,EAAE,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,UAAU,GAAG,GAAG;4BAC1F,IAAI,EAAE,EAAE;4BACR,IAAI,EAAE,SAAS;4BACf,gBAAgB,EAAE,IAAI;4BACtB,kBAAkB,EAAE,SAAS;4BAC7B,iBAAiB,EAAE,MAAM;4BACzB,iBAAiB,EAAE,cAAc;yBAClC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;4BAClB,IAAI,SAAS,CAAC,OAAO,KAAK,QAAQ,IAAI,SAAS,CAAC,OAAO,KAAK,SAAS,EAAE;gCACrE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;6BAChC;iCAAM,IAAI,SAAS,EAAE;gCACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;6BACjB;wBACH,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;4BACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;qBACnB;gBACH,CAAC;gBAED,MAAM,CAAC,IAAI;oBACT,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,yBAAyB,CAAC,CAAC,OAAO,EAAE,CAAC;oBACnF,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,yBAAyB,CAAC,CAAC,OAAO,EAAE,CAAC;oBAC/E,IAAI,SAAS,IAAI,OAAO,EAAE;wBACxB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;4BACzB,IAAI,CAAC,cAAc;iCAChB,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC;iCACvG,IAAI,CAAC,MAAM,CAAC,EAAE;gCACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;oCACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;iCAChC;qCAAM,IAAK,MAAc,CAAC,MAAM,KAAK,SAAS,EAAE;oCAC/C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oCACrB,IAAI,CACF,IAAI,CAAC,UAAU,EACf,EAAE,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,iCAAiC,EAC7E,SAAS,CACV,CAAC;iCACH;qCAAM;oCACL,IAAI,CACF,OAAO,EACP,+CAA+C,EAC/C,OAAO,CACR,CAAC;iCACH;4BACH,CAAC,CAAC;iCACD,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;yBAC1B;6BAAM;4BACL,IAAI,CAAC,cAAc;iCAChB,YAAY,CAAE,IAAI,CAAC,OAAe,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC;iCACvH,IAAI,CAAC,MAAM,CAAC,EAAE;gCACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;oCACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;iCAChC;qCAAM,IAAK,MAAc,CAAC,MAAM,KAAK,SAAS,EAAE;oCAC/C,IAAI,CAAC,aAAa;yCACf,kBAAkB,CAAE,IAAI,CAAC,OAAe,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC;yCACjE,IAAI,CAAC,MAAM,CAAC,EAAE;wCACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;wCACrB,IAAI,CACF,IAAI,CAAC,UAAU,EACf,EAAE,GAAI,IAAI,CAAC,OAAe,CAAC,SAAS,GAAG,GAAG,GAAI,IAAI,CAAC,OAAe,CAAC,QAAQ,GAAG,iCAAiC,EAC/G,SAAS,CACV,CAAC;oCACJ,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;iCAC5B;qCAAM;oCACL,IAAI,CACF,OAAO,EACP,+CAA+C,EAC/C,OAAO,CACR,CAAC;iCACH;4BACH,CAAC,CAAC;iCACD,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;yBAC1B;qBACF;yBAAM;wBACL,IAAI,CACF,QAAQ,EACR,0DAA0D,EAC1D,SAAS,CACV,CAAC;qBACH;gBACH,CAAC;gBAED,IAAI,CAAC,OAAgB;oBACnB,IAAI,CAAC,cAAc;yBAChB,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC;yBACzC,IAAI,CAAC,MAAM,CAAC,EAAE;wBACb,IAAK,MAAc,CAAC,MAAM,KAAK,OAAO,EAAE;4BACtC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;yBAChC;6BAAM,IAAK,MAAc,CAAC,MAAM,KAAK,SAAS,EAAE;4BAC/C,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC;yBAC1B;6BAAM;4BACL,IAAI,CACF,OAAO,EACP,yCAAyC,EACzC,OAAO,CACR,CAAC;yBACH;oBACH,CAAC,CAAC;yBACD,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC3B,CAAC;gBAED,iBAAiB,CAAC,KAAK;oBACrB,IAAI,CACF,KAAK,CAAC,KAAK,EACX,KAAK,CAAC,GAAG,EACT,OAAO,CACR,CAAC;gBACJ,CAAC;gBAED,MAAM;oBACJ,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBACxB,CAAC;aACF,CAAA;YAtPY,0BAA0B;gBANtC,gBAAS,CAAC;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,WAAW,EAAE,uEAAuE;oBACpF,SAAS,EAAE,CAAC,sEAAsE,CAAC;iBACpF,CAAC;iDAkBoC,gCAAc,EAAyB,8BAAa,EAAiB,uBAAc;eAhB5G,0BAA0B,CAsPtC;;QACD,CAAC","file":"student-enrollment.component.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { Course } from \"../../models/course\";\r\nimport { Student } from \"../../models/Student\";\r\nimport { CourseService } from \"../../services/course.service\";\r\nimport { StudentService } from \"../../services/student.service\";\r\ndeclare var swal: any;\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'course-selection',\r\n  templateUrl: './app/components/student-enrollment/student-enrollment.component.html',\r\n  styleUrls: ['./app/components/student-enrollment/student-enrollment.component.css']\r\n})\r\n\r\nexport class StudentEnrollmentComponent implements OnInit {\r\n  studentTimetables: any[];\r\n  loading: boolean = true;\r\n  tempTimetableArry: any[] = [];\r\n  enrollMultiple: boolean;\r\n  // if enrolling multiple students\r\n  students: Student[];\r\n  courseID: any;\r\n  instructorID: any;\r\n  courseName: any;\r\n  // if enrolling specific student\r\n  student: Student[];\r\n  courseType: any;\r\n  studentID: any;\r\n  courses: any[];\r\n\r\n  constructor(private studentService: StudentService, private courseService: CourseService, private route: ActivatedRoute) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    swal({\r\n      title: 'Loading...',\r\n      allowOutsideClick: false\r\n    });\r\n    swal.showLoading();\r\n    this.route.params.forEach((params: Params) => {\r\n      if (params['courseID'] && params['instructorID'] && params['courseName']) {\r\n        this.enrollMultiple = true;\r\n        this.courseID = params['courseID'];\r\n        this.instructorID = params['instructorID'];\r\n        this.courseName = params['courseName'];\r\n        this.getStudents();\r\n      } else if (params['courseType'] && params['studentID']) {\r\n        this.enrollMultiple = false;\r\n        this.courseType = params['courseType'];\r\n        this.studentID = params['studentID'];\r\n        this.getStudentById(this.studentID);\r\n      }\r\n    });\r\n  }\r\n\r\n  getStudents() {\r\n    this.studentService\r\n      .getStudents()\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.students = null;\r\n          this.displayErrorAlert(result);\r\n        } else {\r\n          this.students = result;\r\n          for (let student of this.students) {\r\n            student.fullName = student.firstName + \" \" + student.lastName;\r\n          }\r\n          this.getTimetables();\r\n        }\r\n      }).catch(error => error);\r\n  }\r\n\r\n  getStudentById(id) {\r\n    this.studentService\r\n      .getStudent(id)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.student = null;\r\n          this.displayErrorAlert(result);\r\n        } else {\r\n          this.student = result;\r\n          this.getCourses();\r\n        }\r\n      }).catch(error => error);\r\n  }\r\n\r\n  getCourses() {\r\n    this.courseService\r\n      .getCourses()\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else {\r\n          this.courses = result;\r\n          this.courses = this.courses.filter(x => x.courseType === this.courseType);\r\n          this.getTimetables();\r\n        }\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  getTimetables() {\r\n    this.studentService\r\n      .getTimetables()\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else {\r\n          this.studentTimetables = result;\r\n          this.compareTimetables();\r\n        }\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  compareTimetables() {\r\n    if (this.students == null) {\r\n      for (let course of this.courses) {\r\n        var timetable = this.studentTimetables.filter(x => x.userID === (this.student as any).userID);\r\n        for (let item of timetable) {\r\n          var itemCourseID = item.courseID;\r\n          if (itemCourseID === course.courseID) {\r\n            course.enrolled = true;\r\n          } else {\r\n            course.enrolled = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      for (let student of this.students) {\r\n        var timetable = this.studentTimetables.filter(x => x.userID === student.userID);\r\n        for (let item of timetable) {\r\n          var itemCourseID = item.courseID.toString();\r\n          if (itemCourseID === this.courseID) {\r\n            student.enrolled = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.loading = false;\r\n    swal.close();\r\n  }\r\n\r\n  checkEnrolled(data) {\r\n    if (this.students == null && data.enrolled) {\r\n      swal({\r\n        title: 'Remove ' + data.firstName + ' ' + data.lastName + ' from ' + this.courseName + '?',\r\n        text: \"\",\r\n        type: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Yes, remove!'\r\n      }).then(isConfirm => {\r\n        if (isConfirm.dismiss === \"cancel\" || isConfirm.dismiss === \"overlay\") {\r\n          console.log(isConfirm.dismiss);\r\n        } else if (isConfirm) {\r\n          this.drop(data);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    } else {\r\n      this.enroll(data);\r\n    }\r\n  }\r\n\r\n  enroll(data) {\r\n    var startDate = moment(data.studentStartDate, \"DDD MMM YYYY h:mm:ss LT\").isValid();\r\n    var endDate = moment(data.studentEndDate, \"DDD MMM YYYY h:mm:ss LT\").isValid();\r\n    if (startDate && endDate) {\r\n      if (this.students != null) {\r\n        this.studentService\r\n          .courseEnroll(data.userID, data.studentStartDate, data.studentEndDate, this.courseID, this.instructorID)\r\n          .then(result => {\r\n            if ((result as any).result === 'error') {\r\n              this.displayErrorAlert(result);\r\n            } else if ((result as any).result === 'success') {\r\n              data.enrolled = true;\r\n              swal(\r\n                this.courseName,\r\n                '' + data.firstName + ' ' + data.lastName + ' has been succesfully enrolled.',\r\n                'success'\r\n              );\r\n            } else {\r\n              swal(\r\n                'Error',\r\n                'Something went wrong while enrolling student.',\r\n                'error'\r\n              );\r\n            }\r\n          })\r\n          .catch(error => error);\r\n      } else {\r\n        this.studentService\r\n          .courseEnroll((this.student as any).userID, data.studentStartDate, data.studentEndDate, data.courseID, data.professorId)\r\n          .then(result => {\r\n            if ((result as any).result === 'error') {\r\n              this.displayErrorAlert(result);\r\n            } else if ((result as any).result === 'success') {\r\n              this.courseService\r\n                .removeFromWaitList((this.student as any).userID, data.courseType)\r\n                .then(result => {\r\n                  data.enrolled = true;\r\n                  swal(\r\n                    data.courseName,\r\n                    '' + (this.student as any).firstName + ' ' + (this.student as any).lastName + ' has been succesfully enrolled.',\r\n                    'success'\r\n                  );\r\n                }).catch(error => error);\r\n            } else {\r\n              swal(\r\n                'Error',\r\n                'Something went wrong while enrolling student.',\r\n                'error'\r\n              );\r\n            }\r\n          })\r\n          .catch(error => error);\r\n      }\r\n    } else {\r\n      swal(\r\n        'Whoops',\r\n        'Please input a valid start and end date for the student.',\r\n        'warning'\r\n      );\r\n    }\r\n  }\r\n\r\n  drop(student: Student) {\r\n    this.studentService\r\n      .courseDrop(student.userID, this.courseID)\r\n      .then(result => {\r\n        if ((result as any).result === 'error') {\r\n          this.displayErrorAlert(result);\r\n        } else if ((result as any).result === 'success') {\r\n          student.enrolled = false;\r\n        } else {\r\n          swal(\r\n            'Error',\r\n            'Something went wrong, please try again.',\r\n            'error'\r\n          );\r\n        }\r\n      })\r\n      .catch(error => error);\r\n  }\r\n\r\n  displayErrorAlert(error) {\r\n    swal(\r\n      error.title,\r\n      error.msg,\r\n      'error'\r\n    );\r\n  }\r\n\r\n  goBack() {\r\n    window.history.back();\r\n  }\r\n}\r\n"]}