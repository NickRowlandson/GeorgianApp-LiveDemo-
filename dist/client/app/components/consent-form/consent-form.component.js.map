{"version":3,"sources":["../../client/app/components/consent-form/consent-form.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAoBE,8BAAoB,aAA4B,EAAU,MAAc,EAAU,WAAwB;oBAA1G,iBAcC;oBAdmB,kBAAa,GAAb,aAAa,CAAe;oBAAU,WAAM,GAAN,MAAM,CAAQ;oBAAU,gBAAW,GAAX,WAAW,CAAa;oBACtG,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;oBAClE,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;oBAEhC,IAAI,CAAC,aAAa;yBACjB,SAAS,CAAC,MAAM,CAAC;yBACjB,IAAI,CAAC,UAAA,MAAM;wBACV,KAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;wBAC1C,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;oBACjF,CAAC,CAAC;yBACD,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,KAAK,GAAG,GAAG,EAAhB,CAAgB,CAAC,CAAC;oBAEhC,IAAI,CAAC,WAAW,GAAG,IAAI,yBAAW,EAAE,CAAC;oBACrC,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;gBAC3B,CAAC;gBAED,0CAAW,GAAX;oBAAA,iBAQC;oBAPC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;oBAClC,IAAI,CAAC,aAAa;yBACb,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;yBAC7B,IAAI,CAAC,UAAA,MAAM;wBACR,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACzC,CAAC,CAAC;yBACD,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,CAAC,CAAC,CAAC,8BAA8B;gBACzE,CAAC;gBAED,qCAAM,GAAN;oBACI,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBAC1B,CAAC;gBAlCQ;oBAAR,YAAK,EAAE;8CAAc,yBAAW;yEAAC;gBADvB,oBAAoB;oBAPhC,gBAAS,CAAC;wBACP,QAAQ,EAAE,aAAa;wBACvB,WAAW,EAAE,2DAA2D;wBACxE,SAAS,EAAE,CAAC,0DAA0D,CAAC;qBAC1E,CAAC;qDAUmC,8BAAa,EAAkB,eAAM,EAAuB,oCAAW;mBAP/F,oBAAoB,CAoChC;gBAAD,2BAAC;aApCD,AAoCC;;QACD,CAAC","file":"consent-form.component.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ConsentForm } from \"../../models/consentForm\";\r\nimport { ClientService } from \"../../services/client.service\";\r\nimport { AuthService } from '../../services/authentication.service';\r\n\r\n@Component({\r\n    selector: 'consentForm',\r\n    templateUrl: './app/components/consent-form/consent-form.component.html',\r\n    styleUrls: ['./app/components/consent-form/consent-form.component.css']\r\n})\r\n\r\n\r\nexport class ConsentFormComponent {\r\n  @Input() consentForm: ConsentForm;\r\n  error: any;\r\n  date: any;\r\n  phoneNumber: any;\r\n  clientName: any;\r\n\r\n  constructor(private clientService: ClientService, private router: Router, private authService: AuthService) {\r\n      var currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n      var userID = currentUser.userID;\r\n\r\n      this.clientService\r\n      .getClient(userID)\r\n      .then(result => {\r\n        this.phoneNumber = result.client[0].phone;\r\n        this.clientName = result.client[0].firstName + \" \" + result.client[0].lastName;\r\n      })\r\n      .catch(err => this.error = err);\r\n\r\n      this.consentForm = new ConsentForm();\r\n      this.date = new Date();\r\n  }\r\n\r\n  saveConsent() {\r\n    this.consentForm.date = this.date;\r\n    this.clientService\r\n        .saveConsent(this.consentForm)\r\n        .then(client => {\r\n            this.router.navigate(['/dashboard']);\r\n        })\r\n        .catch(error => this.error = error); // TODO: Display error message\r\n  }\r\n\r\n  goBack() {\r\n      window.history.back();\r\n  }\r\n}\r\n"]}