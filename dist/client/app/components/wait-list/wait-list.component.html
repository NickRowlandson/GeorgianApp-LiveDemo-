<div class="row">
  <div class="doNotPrint">
    <div class="col-md-10">
      <h1><span style="cursor:pointer" (click)="goBack()"><i class="fa fa-arrow-circle-o-left"></i></span><strong> Course Wait List</strong></h1>
      <hr>
    </div>
    <div class="col-md-2" style="margin-top:20px">
      <button (click)="onPrint()" class="btn btn-primary printButton" title="Print timetable"><i class="fa fa-print"></i> Print</button>
      <button class="addClient btn btn-info" (click)="showWaitListForm()" title="Add new client"><i class="fa fa-plus"></i> Add</button>
      <div *ngIf="showForm" class="addMenu well">
        <span title="Close" class="closeMenu" (click)="closeMenu()"><i class="fa fa-times"></i></span>
        <h4>Add User to Wait List</h4>
        <p-dropdown [options]="users | studentToSelectItem" [(ngModel)]="selectedUser" placeholder="Select a User" [filter]="true" [style]="{'width':'350px','margin-bottom':'5px'}"></p-dropdown>
        <p-dropdown [options]="courseTypes | courseTypeToSelectItem" [(ngModel)]="selectedCourseType" placeholder="Select a Course Type" [filter]="true" [style]="{'width':'350px','margin-bottom':'5px'}"></p-dropdown>
        <button class="btn btn-success" style="float:right" (click)="addStudentToWaitList()" title="Add to wait list"><i class="fa fa-plus"></i> Submit</button>
      </div>
    </div>
  </div>

  <div class="col-md-3 doNotPrint">
    <p-dataTable [value]="courseTypes" [responsive]="true">
      <p-column field="courseType" header="Course Type" [sortable]="true"></p-column>
      <p-column header="Action" [style]="{'width': '58px', 'text-align': 'center'}">
        <template let-data="rowData" pTemplate="body">
          <button class="btn btn-danger" style="height:auto" title="View wait list for this course type." (click)="viewCourseWaitList(data, $event)"><i class="fa fa-caret-right" aria-hidden="true"></i></button>
        </template>
      </p-column>
    </p-dataTable>
  </div>

  <div *ngIf="!courseWaitList" class="col-md-9">
    <h2>Overall Status</h2>
    <hr>
    <h3 class="well" *ngIf="waitList">Total # of students waiting to be enrolled in a course: {{ waitList.length }}<strong> </strong></h3>
    <p-dataTable [value]="usersWaiting" [responsive]="true">
      <p-column field="fullName" header="Name" [sortable]="true"></p-column>
      <p-column field="courseType" header="Course Type" [sortable]="true"></p-column>
      <p-column header="Date Added" [sortable]="true">
        <template let-data="rowData" pTemplate="body">
          {{ data.date | date }}
        </template>
      </p-column>
      <p-column header="Action" styleClass="doNotPrint" [style]="{'width': '125px', 'text-align': 'center'}">
        <template let-data="rowData" pTemplate="body">
          <button class="btn btn-warning doNotPrint" (click)="gotoStudentEnrollment(viewingCourse, data, $event)"><i class="fa fa-institution" aria-hidden="true"></i> Enroll</button>
        </template>
      </p-column>
    </p-dataTable>
  </div>
  <div *ngIf="courseWaitList" class="col-md-9">
    <h2>{{ viewingCourse.courseType }} Wait List</h2>
    <div (click)="courseWaitList = null; getWaitList();" class="statusButton" title="View overall status"><i class="fa fa-pie-chart fa-2x" aria-hidden="true"></i></div>
    <hr>
    <p-dataTable [value]="usersWaiting" [responsive]="true">
      <p-column field="fullName" header="Name" [sortable]="true"></p-column>
      <p-column field="date" header="Date Added" [sortable]="true"></p-column>
      <p-column header="Action" [style]="{'width': '125px', 'text-align': 'center'}">
        <template let-data="rowData" pTemplate="body">
          <button class="btn btn-warning doNotPrint" (click)="gotoStudentEnrollment(viewingCourse, data, $event)"><i class="fa fa-institution" aria-hidden="true"></i> Enroll</button>
        </template>
      </p-column>
    </p-dataTable>
  </div>
</div>
